{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://diary-js/./src/ts/control/router.js","webpack://diary-js/./src/ts/control/appStorage.js","webpack://diary-js/./src/ts/control/controller.js","webpack://diary-js/./src/ts/view/loggedOut.js","webpack://diary-js/./src/ts/view/style.js","webpack://diary-js/./src/ts/control/loggedOut.js","webpack://diary-js/./src/ts/control/storageObject.js","webpack://diary-js/./src/ts/model/date.js","webpack://diary-js/./src/ts/gen/projectInfo.js","webpack://diary-js/./src/ts/view/main.js","webpack://diary-js/./src/ts/view/calendar.js","webpack://diary-js/./src/ts/control/calendar.js","webpack://diary-js/./src/ts/control/main.js","webpack://diary-js/./src/ts/view/login.js","webpack://diary-js/./src/ts/control/login.js","webpack://diary-js/./src/ts/view/register.js","webpack://diary-js/./src/ts/model/user.js","webpack://diary-js/./src/ts/control/register.js","webpack://diary-js/./src/ts/view/loggedIn.js","webpack://diary-js/./src/ts/control/loggedIn.js","webpack://diary-js/./src/ts/view/diary.js","webpack://diary-js/./src/ts/model/diaryNote.js","webpack://diary-js/./src/ts/view/diaryNotebook.js","webpack://diary-js/./src/ts/control/diaryNotebook.js","webpack://diary-js/./src/ts/control/diary.js","webpack://diary-js/./src/ts/control/logout.js","webpack://diary-js/./src/ts/view/changeStyle.js","webpack://diary-js/./src/ts/control/changeStyle.js","webpack://diary-js/./src/ts/model/note.js","webpack://diary-js/./src/ts/index.ts","webpack://diary-js/./src/ts/control/app.ts"],"sourcesContent":["\r\nclass Router\r\n{\r\n    constructor(routes, defaultRoute) {\r\n        window.addEventListener('popstate', e => this.route());\r\n        this._routes = routes;\r\n        this._defaultRoute = defaultRoute;\r\n        this._actualRoute = \"\";\r\n    }\r\n\r\n    getActualRoute() {\r\n        return this._actualRoute;\r\n    }\r\n\r\n    route() {\r\n        let routeFound = false;\r\n        const hash = window.location.hash;\r\n        for (const [routeName, routeControl] of Object.entries(this._routes)) {\r\n            if(\"#\" + routeName == hash) {\r\n                this._actualRoute = routeName;\r\n                if(routeControl.init()) {\r\n                    routeFound = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if(!routeFound) {\r\n            this.routeDefault();\r\n        }\r\n    }\r\n\r\n    routeTo(newRoute) {\r\n        let routeFound = false;\r\n        for (const [routeName, routeControl] of Object.entries(this._routes)) {\r\n            if(routeName == newRoute) {\r\n                routeFound = true;\r\n            }\r\n        }\r\n        if(!routeFound) {\r\n            console.log(\"route %s does not exist\", newRoute);\r\n            return;\r\n        }\r\n        this._actualRoute = newRoute;\r\n        window.location.hash = \"#\" + newRoute;\r\n        this._routes[newRoute].init();\r\n    }\r\n\r\n    routeDefault() {\r\n        this._actualRoute = this._defaultRoute.name;\r\n        window.location.hash = \"#\" + this._defaultRoute.name;\r\n        this._defaultRoute.control.init();\r\n    }\r\n}\r\n\r\nexport { Router };","\r\nclass AppStorage\r\n{\r\n    constructor(name, storedClasses) {\r\n        this.name = name;\r\n        this.storedClasses = {};\r\n        this.data = [];\r\n        storedClasses.forEach(storedClass => {\r\n            this.storedClasses[(new storedClass()).getStorageClassName()] = storedClass;\r\n        });\r\n    }\r\n\r\n    getData() {\r\n        return this.data;\r\n    }\r\n\r\n    load() {\r\n        let rawData = window.localStorage.getItem(this.name);\r\n        if(rawData == null) {\r\n            this.save();\r\n        } else {\r\n            this.data = JSON.parse(rawData, (key, value) => {\r\n                if(typeof value === 'object' && \"_storageClassName\" in value) {\r\n                    let newObject = new this.storedClasses[value._storageClassName]();\r\n                    return Object.assign(newObject, value);\r\n                }\r\n                else {\r\n                    return value;\r\n                }\r\n           });\r\n        }\r\n    }\r\n\r\n    save() {\r\n        window.localStorage.setItem(this.name, JSON.stringify(this.data));\r\n    }\r\n}\r\n\r\nexport { AppStorage };","\r\nclass Controller\r\n{\r\n    constructor(app) {\r\n        this._app = app;\r\n    }\r\n\r\n    init() {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { Controller };","\r\nclass LoggedOutView\r\n{\r\n    constructor(){\r\n        this._navEl = document.querySelector(\"header nav\");\r\n        this._userEl = document.getElementById(\"user\");\r\n\r\n        this._user = \"\";\r\n    }\r\n\r\n    init(selectedPage) {\r\n        this._navEl.innerHTML = this._nav(selectedPage);\r\n        this._userEl.innerHTML = this._user;\r\n    }\r\n\r\n    _nav (selectedPage) {\r\n        return String.raw`\r\n            <ul>\r\n                <li>\r\n                    <a href=\"#main\" ${selectedPage == \"main\" ? 'id=\"pageSelected\"' : \"\"}>Main page</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#login\" ${selectedPage == \"login\" ? 'id=\"pageSelected\"' : \"\"}>Login</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#register\" ${selectedPage == \"register\" ? 'id=\"pageSelected\"' : \"\"}>Register</a>\r\n                </li>\r\n            </ul>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { LoggedOutView };","\r\nlet styles = {\r\n    blue: {\r\n        headerFooter: \"#12146b\",\r\n        mainBg: \"#191c94\",\r\n        text: \"white\",\r\n        mandatory: \"#ff4e00\",\r\n        dark: \"#070f3d\",\r\n        note: \"#070f3d\",\r\n        noteBgHover: \"#00a0d5\",\r\n        tableSelected: \"#1b62c2\",\r\n        tableSelectedHover: \"#14478c\",\r\n        tableButtonBg: \"#00a0d5\",\r\n        error: \"#ff4e00\"\r\n    },\r\n    green: {\r\n        headerFooter: \"#239311\",\r\n        mainBg: \"#30cf16\",\r\n        text: \"black\",\r\n        mandatory: \"#bd0000\",\r\n        dark: \"#0f3d07\",\r\n        note: \"#053007\",\r\n        noteBgHover: \"#46ee4e\",\r\n        tableSelected: \"#108d16\",\r\n        tableSelectedHover: \"#0b5b0e\",\r\n        tableButtonBg: \"#46ee4e\",\r\n        error: \"#bd0000\"\r\n    }\r\n};\r\n\r\nfunction setStyle(styleName) {\r\n    let root = document.documentElement;\r\n    let style = styles[styleName];\r\n    root.style.setProperty(\"--header-footer-color\", style.headerFooter);\r\n    root.style.setProperty(\"--main-bg-color\", style.mainBg);\r\n    root.style.setProperty(\"--text-color\", style.text);\r\n    root.style.setProperty(\"--mandatory-color\", style.mandatory);\r\n    root.style.setProperty(\"--dark-color\", style.dark);\r\n    root.style.setProperty(\"--note-color\", style.note);\r\n    root.style.setProperty(\"--note-bg-color-hover\", style.noteBgHover);\r\n    root.style.setProperty(\"--table-selected-color\", style.tableSelected);\r\n    root.style.setProperty(\"--table-selected-hover-color\", style.tableSelectedHover);\r\n    root.style.setProperty(\"--table-button-bg-color\", style.tableButtonBg);\r\n    root.style.setProperty(\"--error-color\", style.error);\r\n}\r\n\r\nexport { setStyle };","import { Controller } from \"./controller.js\";\r\nimport { LoggedOutView } from \"../view/loggedOut.js\";\r\nimport { setStyle } from \"../view/style.js\";\r\n\r\nclass LoggedOut extends Controller\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._loggedOutView = new LoggedOutView();\r\n    }\r\n\r\n    init() {\r\n        setStyle(\"blue\");\r\n        this._loggedOutView.init(this._app.router.getActualRoute());\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { LoggedOut };","\r\nclass StorageObject\r\n{\r\n    constructor(storageClassName) {\r\n        this._storageClassName = storageClassName;\r\n    }\r\n\r\n    getStorageClassName() {\r\n        return this._storageClassName;\r\n    }\r\n}\r\n\r\nexport { StorageObject };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nlet monthNames =\r\n[\r\n    \"January\",\r\n    \"Febuary\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\"\r\n];\r\n\r\nlet dayNames = [\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Fiday\",\r\n    \"Saturday\",\r\n    \"Sunday\"\r\n];\r\n\r\nlet dayNamesShots = [\r\n    \"Mo\",\r\n    \"Tu\",\r\n    \"We\",\r\n    \"Th\",\r\n    \"Fr\",\r\n    \"Sa\",\r\n    \"Su\"\r\n];\r\n\r\nclass CustomDate extends StorageObject\r\n{\r\n    constructor() {\r\n        super(\"Date\");\r\n        this.day = 1;\r\n        this.month = 1;\r\n        this.year = 1;\r\n    }\r\n\r\n    static createDate(day, month, year) {\r\n        let date = new CustomDate();\r\n        date.day = day;\r\n        date.month = month;\r\n        date.year = year;\r\n        return date;\r\n    }\r\n\r\n    static createCurrentDate() {\r\n        let date = new Date();\r\n        return this.createDate(date.getDate(), date.getMonth(), date.getFullYear());\r\n    }\r\n\r\n    static getDayShorts() {\r\n        return dayNamesShots;\r\n    }\r\n\r\n    getMonthName() {\r\n        return monthNames[this.month];\r\n    }\r\n\r\n    getDayInWeekName() {\r\n        var options = { weekday: 'long'};\r\n        return new Intl.DateTimeFormat('en-US', options).format(this.toDate()).toString();\r\n    }\r\n\r\n    getDayInWeekShortName() {\r\n        return dayNamesShots[this.getDayInWeek()];\r\n    }\r\n\r\n    getDayInWeek() {\r\n        let date = new Date(this.year, this.month, this.day);\r\n        return date.getDay();\r\n    }\r\n\r\n    getDaysInMonth() {\r\n        let date = new Date();\r\n        let month = date.getMonth() + 1;\r\n        let year = date.getFullYear();\r\n        return new Date(year, month, 0).getDate();\r\n    }\r\n\r\n    incrementMonth() {\r\n        let date = new Date(this.year, this.month + 1, 1);\r\n        this.year = date.getFullYear();\r\n        this.month = date.getMonth();\r\n        this.day = date.getDate();\r\n    }\r\n\r\n    dencrementMonth() {\r\n        let date = new Date(this.year, this.month - 1, 1);\r\n        this.year = date.getFullYear();\r\n        this.month = date.getMonth();\r\n        this.day = date.getDate();\r\n    }\r\n\r\n    toDate() {\r\n        return new Date(this.year, this.month, this.day);\r\n    }\r\n\r\n    toString() {\r\n        return this.getDayInWeekName()+\" \"+String(this.day)+\". \"+monthNames[this.month]+\" \"+String(this.year);\r\n    }\r\n\r\n    compare(date) {\r\n        return this.day == date.day && this.month == date.month && this.year == date.year;\r\n    }\r\n\r\n    makeCopy() {\r\n        return CustomDate.createDate(this.day, this.month, this.year);\r\n    }\r\n}\r\n\r\nexport { CustomDate };","\n// WARNING: Don't make changes to this file. It will be generated automatically with each build.\nconst projectInfo = {\n\"buildDate\": new Date(2021, 8, 19),\n\"packageInfo\": {\n  \"name\": \"diary-js\",\n  \"homepage\": \"http://shetr.github.io/diary-js\",\n  \"version\": \"1.1.2\",\n  \"description\": \"Reworked version of zwa-diary-js.\",\n  \"main\": \"src/ts/index.ts\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"gen\": \"node scripts/gen-project-info.js src/ts/gen/projectInfo.js\",\n    \"css:scss\": \"node-sass --output-style compressed -o dist src/scss\",\n    \"css:autoprefixer\": \"postcss -u autoprefixer -r dist/*.css\",\n    \"css:lint\": \"stylelint src/scss/*.scss --syntax scss || true\",\n    \"build:css\": \"npm run css:lint && npm run css:scss && npm run css:autoprefixer\",\n    \"build:js\": \"npm run gen && webpack --mode=production\",\n    \"build:html\": \"posthtml -c posthtml.json\",\n    \"watch:css\": \"onchange \\\"src/scss\\\" -- npm run build:css\",\n    \"watch:js\": \"onchange \\\"src/js\\\" -- webpack --mode=development\",\n    \"watch:html\": \"onchange \\\"src/views\\\" -- npm run build:html\",\n    \"serve\": \"browser-sync start --server \\\"dist\\\" --files \\\"dist\\\"\",\n    \"watch\": \"run-p serve watch:*\",\n    \"build\": \"run-p build:*\",\n    \"deploy\": \"gh-pages -d dist\",\n    \"build-deploy\": \"npm run build && npm run deploy\"\n  },\n  \"keywords\": [],\n  \"author\": {\n    \"name\": \"Petr Šádek\",\n    \"email\": \"shetr.git@gmail.com\"\n  },\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"autoprefixer\": \"^10.3.4\",\n    \"browser-sync\": \"^2.27.5\",\n    \"gh-pages\": \"^3.2.3\",\n    \"htmlnano\": \"^1.1.1\",\n    \"node-sass\": \"^6.0.1\",\n    \"npm-run-all\": \"^4.1.5\",\n    \"onchange\": \"^7.1.0\",\n    \"postcss\": \"^8.3.6\",\n    \"postcss-cli\": \"^8.3.1\",\n    \"posthtml\": \"^0.16.5\",\n    \"posthtml-cli\": \"^0.10.0\",\n    \"posthtml-modules\": \"^0.7.4\",\n    \"source-map-loader\": \"^3.0.0\",\n    \"stylelint\": \"^13.13.1\",\n    \"ts-loader\": \"^9.2.5\",\n    \"typescript\": \"^4.4.3\",\n    \"webpack\": \"^5.53.0\",\n    \"webpack-cli\": \"^4.8.0\"\n  },\n  \"dependencies\": {}\n}\n\n};\nexport { projectInfo };\n        ","import { CustomDate } from \"../model/date.js\";\r\nimport { projectInfo } from \"../gen/projectInfo\";\r\n\r\nclass MainView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._footerEl = document.querySelector(\"footer\");\r\n\r\n        this._formEl = null;\r\n\r\n        this._headline = \"Diary\";\r\n        let authorName = projectInfo.packageInfo.author.name;\r\n        let buildYear = projectInfo.buildDate.getFullYear();\r\n        let buildVersion = projectInfo.packageInfo.version;\r\n        this._footer = `${buildYear}&nbsp;&nbsp;&nbsp;${authorName}&nbsp;&nbsp;&nbsp;v${buildVersion}`;\r\n    }\r\n\r\n    getForm() {\r\n        return this._formEl;\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._footerEl.innerHTML = this._footer;\r\n        \r\n        this._mainEl.innerHTML = this._basicCalendar();\r\n\r\n        this._formEl = document.querySelector(\"form\");\r\n    }\r\n\r\n    _basicCalendar() {\r\n        let date = CustomDate.createCurrentDate();\r\n        return String.raw`\r\n            <div id=\"currentDate\">Today is ${date.toString()}</div>\r\n            <form method=\"post\" action=\"\">\r\n                <div id=\"calendar\"></div>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { MainView };","import { CustomDate } from \"../model/date.js\";\r\n\r\nclass CalendarView\r\n{\r\n    constructor(){\r\n        this._calendarWrapperEl = null;\r\n        this._calendarBodyEl = null;\r\n    }\r\n\r\n    init(date, selectedDay, noteDays) {\r\n\r\n        this._calendarWrapperEl = document.getElementById(\"calendar\");\r\n        this._calendarWrapperEl.innerHTML = this._calendar(date);\r\n\r\n        this._calendarBodyEl = document.querySelector(\"tbody\");\r\n        this._calendarBodyEl.innerHTML = this._calendarBody(date, selectedDay, noteDays);\r\n    }\r\n\r\n    selectCell(dayIndex) {\r\n        let cell = document.getElementById(\"day\"+String(dayIndex));\r\n        if(cell != null) {\r\n            cell.classList.add(\"selectedTab\");\r\n        }\r\n    }\r\n\r\n    deselectCell(dayIndex) {\r\n        let cell = document.getElementById(\"day\"+String(dayIndex));\r\n        if(cell != null) {\r\n            cell.classList.remove(\"selectedTab\");\r\n        }\r\n    }\r\n\r\n    _calendar(date) {\r\n        return String.raw`\r\n            <table>\r\n                <thead>\r\n                <tr> \r\n                    <td colspan=\"5\">\r\n                        <div class=\"buttonTab\">\r\n                            ${date.getMonthName()} ${date.year}\r\n                        </div>\r\n                    </td> \r\n                    <td>\r\n                        <input class=\"buttonTab\" type=\"submit\" name=\"changeMonthLeft\" value=\"<\">\r\n                    </td> \r\n                    <td>\r\n                        <input class=\"buttonTab\" type=\"submit\" name=\"changeMonthRight\" value=\">\">\r\n                    </td> \r\n                </tr>\r\n                <tr>\r\n                    ${join(CustomDate.getDayShorts().map((day) => String.raw`\r\n                        <td>\r\n                            <div>\r\n                                ${day}\r\n                            </div>\r\n                        </td>\r\n                    `))}\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                </tbody>\r\n            </table>\r\n        `;\r\n    }\r\n\r\n    _calendarBody(date, selectedDay, noteDays) {\r\n        let cells = this._calendarCells(date, selectedDay, noteDays);\r\n        return String.raw`\r\n            ${join(cells.map((row) => String.raw`\r\n\t            <tr>\r\n                    ${join(row)}\r\n                </tr>\r\n            `))}\r\n        `;\r\n    }\r\n\r\n    _calendarCells(date, selectedDay, noteDays) {\r\n        let firstDayInMonth = CustomDate.createDate(1, date.month, date.year);\r\n        let dayInWeek = firstDayInMonth.getDayInWeek();\r\n        \r\n        let currentDate = CustomDate.createCurrentDate(); \r\n        \r\n        let cells = [];\r\n        \r\n        let daysInMonth = firstDayInMonth.getDaysInMonth();\r\n        let j = 2 - dayInWeek;\r\n        while(daysInMonth > 0)\r\n        {\r\n            let row = [];\r\n            for(let i = 0; i < CustomDate.getDayShorts().length; i++)\r\n            {\r\n                if(j < 1 || daysInMonth <= 0)\r\n                {\r\n                    row.push(this._otherMonthCell());\r\n                }\r\n                else\r\n                {\r\n                    let isSelected = false;\r\n                    if(selectedDay == j) {\r\n                        isSelected = true;\r\n                    }\r\n                    if(j == currentDate.day && date.month == currentDate.month && date.year == currentDate.year) {\r\n                        row.push(this._cell(isSelected, \"todayTab\", j));\r\n                    }\r\n                    else if(noteDays.includes(j)) {\r\n                        row.push(this._cell(isSelected, \"noteTab\", j));\r\n                    }\r\n                    else {\r\n                        row.push(this._cell(isSelected, \"activeCellTab\", j));\r\n                    }\r\n                    daysInMonth--;\r\n                }\r\n                j++;\r\n            }\r\n            cells.push(row);\r\n        }\r\n        return cells;\r\n    }\r\n\r\n    _cell(isSelected, cellClass, dayIndex) {\r\n        return String.raw`\r\n            <td id=\"day${dayIndex}\" ${isSelected ? 'class =\"selectedTab\"' : \"\"}>\r\n                    <input class=\"${cellClass}\" type=\"submit\" name=\"selectDay\" value=\"${dayIndex}\">\r\n            </td>\r\n        `;\r\n    }\r\n\r\n    _otherMonthCell() {\r\n        return String.raw`\r\n            <td>\r\n                <div class=\"deactivatedCellTab\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 10 10\">\r\n                        <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"10\"/>\r\n                        <line x1=\"0\" y1=\"10\" x2=\"10\" y2=\"0\"/>\r\n                    </svg>\r\n                </div>\r\n            </td>\r\n        `;\r\n    }\r\n}\r\n\r\nfunction join(arr) {\r\n    return arr.reduce((a, b) => a+b, \"\");\r\n}\r\n\r\nexport { CalendarView };","import { Controller } from \"./controller.js\";\r\nimport { CalendarView } from \"../view/calendar.js\";\r\nimport { CustomDate } from \"../model/date.js\";\r\n\r\nclass Calendar extends Controller\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new CalendarView();\r\n        this._selectedDay = -1;\r\n        this._date = null;\r\n        this.noteDays = [];\r\n    }\r\n\r\n    init() {\r\n        this._selectedDay = -1;\r\n        this._date = CustomDate.createCurrentDate();\r\n        this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        return true;\r\n    }\r\n\r\n    update() {\r\n        this._view.init(this._date, this._selectedDay, this.noteDays);\r\n    }\r\n\r\n    getSelectedDay() {\r\n        return this._selectedDay;\r\n    }\r\n\r\n    getDate() {\r\n        return this._date;\r\n    }\r\n\r\n    submitForm(submitter) {\r\n        if(submitter.name == \"selectDay\") {\r\n            let selectedDay = parseInt(submitter.value);\r\n            this._view.deselectCell(this._selectedDay);\r\n            this._view.selectCell(selectedDay);\r\n            this._selectedDay = selectedDay;\r\n            this._date.day = selectedDay;\r\n        } else if(submitter.name == \"changeMonthLeft\") {\r\n            this._selectedDay = -1;\r\n            this._date.dencrementMonth();\r\n            this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        } else if(submitter.name == \"changeMonthRight\") {\r\n            this._selectedDay = -1;\r\n            this._date.incrementMonth();\r\n            this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        }\r\n    }\r\n}\r\n\r\nexport { Calendar };","import { LoggedOut } from \"./loggedOut.js\";\r\nimport { MainView } from \"../view/main.js\";\r\nimport { Calendar } from \"./calendar.js\";\r\n\r\nclass Main extends LoggedOut\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new MainView();\r\n        this._calendar = new Calendar(app);\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._calendar.init();\r\n            let form = this._view.getForm();\r\n            form.addEventListener(\"submit\", (e) => {e.preventDefault(); this._calendar.submitForm(e.submitter);});\r\n        }\r\n        return progress;\r\n    }\r\n}\r\n\r\nexport { Main };","\r\nclass LoginView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._loginFormEl = null;\r\n        this._emailInputEl = null;\r\n        this._passwordInputEl = null;\r\n        this._errorEl = null;\r\n\r\n        this._headline = \"Login\";\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._loginForm();\r\n\r\n        this._loginFormEl = document.querySelector(\"form\");\r\n        this._emailInputEl = document.getElementById(\"email\");\r\n        this._passwordInputEl = document.getElementById(\"password\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n    }\r\n\r\n    getForm() {\r\n        return this._loginFormEl;\r\n    }\r\n    getEmailInput() {\r\n        return this._emailInputEl;\r\n    }\r\n    getPasswordInput() {\r\n        return this._passwordInputEl;\r\n    }\r\n\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n    }\r\n    setError(message) {\r\n        this._errorEl.textContent = message;\r\n    }\r\n\r\n    _loginForm() {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Email: <span class=\"mandatory\">*</span>\r\n                    <input id=\"email\" required type=\"email\" name=\"email\"/>\r\n                </label>\r\n                <label>\r\n                    Password: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password\" required type=\"password\" name=\"password\" />\r\n                </label>\r\n                <p class=\"error\"></p>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Login\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { LoginView };","import { LoginView } from \"../view/login.js\";\r\nimport { LoggedOut } from \"./loggedOut.js\";\r\n\r\nclass Login extends LoggedOut\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new LoginView();\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._view.getForm().addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm();});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm() {\r\n        let email = this._view.getEmailInput().value;\r\n        let password = this._view.getPasswordInput().value;\r\n        let user = this._findUser(email);\r\n        if(user == null) {\r\n            this._view.setError(\"Incorrect email or password.\");\r\n            return;\r\n        }\r\n        user.doesPasswordMatch(password).then((matches) => {\r\n            if(!matches) {\r\n                this._view.setError(\"Incorrect email or password.\");\r\n                return;\r\n            }\r\n            this._app.user = user;\r\n            this._app.router.routeTo(\"diary\");\r\n        });\r\n    }\r\n\r\n    _findUser(email) {\r\n        let users = this._app.getUsers().getData();\r\n        let foundUser = null;\r\n        users.forEach((user) => {\r\n            if(user.email == email) {\r\n                foundUser = user;\r\n            }\r\n        });\r\n        return foundUser;\r\n    }\r\n}\r\n\r\nexport { Login };","\r\nclass RegisterView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._registerFormEl = null;\r\n        this._emailInputEl = null;\r\n        this._password1InputEl = null;\r\n        this._password2InputEl = null;\r\n        this._errorEl = null;\r\n\r\n        this._headline = \"Register\";\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._registerForm();\r\n\r\n        this._registerFormEl = document.querySelector(\"form\");\r\n        this._emailInputEl = document.getElementById(\"email\");\r\n        this._password1InputEl = document.getElementById(\"password1\");\r\n        this._password2InputEl = document.getElementById(\"password2\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n    }\r\n\r\n    getForm() {\r\n        return this._registerFormEl;\r\n    }\r\n    getEmailInput() {\r\n        return this._emailInputEl;\r\n    }\r\n    getPassword1Input() {\r\n        return this._password1InputEl;\r\n    }\r\n    getPassword2Input() {\r\n        return this._password2InputEl;\r\n    }\r\n\r\n\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n        this._emailInputEl.classList.remove('error');\r\n        this._password1InputEl.classList.remove('error');\r\n        this._password2InputEl.classList.remove('error');\r\n    }\r\n    setEmailError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._emailInputEl.classList.add('error');\r\n    }\r\n    setPassword1Error(message) {\r\n        this._errorEl.textContent = message;\r\n        this._password1InputEl.classList.add('error');\r\n    }\r\n    setPassword2Error(message) {\r\n        this._errorEl.textContent = message;\r\n        this._password2InputEl.classList.add('error');\r\n    }\r\n\r\n    _registerForm() {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Email: <span class=\"mandatory\">*</span>\r\n                    <input id=\"email\" required type=\"email\" name=\"email\"/>\r\n                </label>\r\n                <label>\r\n                    Password: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password1\" required type=\"password\" name=\"password1\" />\r\n                </label>\r\n                <label>\r\n                    Password check: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password2\" required type=\"password\" name=\"password2\" />\r\n                </label>\r\n                <p class=\"error\"></p>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Register\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { RegisterView };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nclass User extends StorageObject\r\n{\r\n    constructor() {\r\n        super(\"User\");\r\n        this.email = \"\";\r\n        this.passwordHash = \"\";\r\n        this.notes = [];\r\n        this.diaryNotes = [];\r\n        this.style = \"blue\";\r\n    }\r\n\r\n    async doesPasswordMatch(password) {\r\n        let passwordHash = await createHash(password);\r\n        return this.passwordHash == passwordHash;\r\n    }\r\n\r\n    static async createWithPassword(email, password) {\r\n        let user = new User();\r\n        user.email = email;\r\n        user.passwordHash = await createHash(password); \r\n        return user;\r\n    }\r\n\r\n    static isEmailIncorrect(email) {\r\n        if(!(email.indexOf(\"@\") > -1 && email.indexOf(\".\") > -1))\r\n        {\r\n            return \"Missing @ or . in the email.\";\r\n        }\r\n        if(!(email.indexOf(\"@\") > 0 && email.indexOf(\".\") > email.indexOf(\"@\") + 1 && email.indexOf(\".\") < email.length - 1))\r\n        {\r\n            return \"Incorrect email.\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static isPasswordIncorrect(password) {\r\n        if(password.length <= 3)\r\n        {\r\n            return 'Password must be longer than 3 characters.';\r\n        }\r\n        return \"\";\r\n    }\r\n}\r\n    \r\nasync function createHash(password) {\r\n    // copied from mdn\r\n    const msgUint8 = new TextEncoder().encode(password);\r\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8).then();\r\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n    return hashHex;\r\n}\r\n\r\n\r\nexport { User };","import { LoggedOut } from \"./loggedOut.js\";\r\nimport { RegisterView } from \"../view/register.js\";\r\nimport { User } from \"../model/user.js\";\r\n\r\nclass Register extends LoggedOut\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new RegisterView();\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._view.getForm().addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm();});\r\n            this._view.getEmailInput().addEventListener(\"keyup\", (e) => {e.preventDefault(); this._validateEmail();});\r\n            this._view.getPassword1Input().addEventListener(\"blur\", (e) => {e.preventDefault(); this._validatePassword1();});\r\n            this._view.getPassword2Input().addEventListener(\"blur\", (e) => {e.preventDefault(); this._validatePassword2();});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm() {\r\n        let isValid =\r\n            this._validatePassword2() &&\r\n            this._validatePassword1() &&\r\n            this._validateEmail();\r\n        if(isValid) {\r\n            let email = this._view.getEmailInput().value;\r\n            let password = this._view.getPassword1Input().value;\r\n            let users = this._app.getUsers();\r\n            User.createWithPassword(email, password).then((user => {\r\n                users.getData().push(user);\r\n                users.save();\r\n                this._app.user = user;\r\n                this._app.router.routeTo(\"diary\");\r\n            }));\r\n        }\r\n    }\r\n\r\n    _validateEmail() {\r\n        this._view.clearErrors();\r\n        let email = this._view.getEmailInput().value;\r\n        let isIncorrect = User.isEmailIncorrect(email);\r\n        if(isIncorrect) {\r\n            this._view.setEmailError(isIncorrect);\r\n            return false;\r\n        }\r\n        if(this._isRegistered(email)){\r\n            this._view.setEmailError(\"Such a user already exists.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _validatePassword1() {\r\n        this._view.clearErrors();\r\n        let password1 = this._view.getPassword1Input().value;\r\n        let isIncorrect = User.isPasswordIncorrect(password1);\r\n        if(isIncorrect) {\r\n            this._view.setPassword1Error(isIncorrect);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _validatePassword2() {\r\n        this._view.clearErrors();\r\n        let password1 = this._view.getPassword1Input().value;\r\n        let password2 = this._view.getPassword2Input().value;\r\n        if(password1 != password2) {\r\n            this._view.setPassword2Error(\"Passwords do not match.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _isRegistered(email) {\r\n        let users = this._app.getUsers().getData();\r\n        let isRegistered = false;\r\n        users.forEach((user) => {\r\n            if(user.email == email) {\r\n                isRegistered = true;\r\n            }\r\n        });\r\n        return isRegistered;\r\n    }\r\n}\r\n\r\nexport { Register };","\r\nclass LoggedInView\r\n{\r\n    constructor(){\r\n        this._navEl = document.querySelector(\"header nav\");\r\n        this._userEl = document.getElementById(\"user\");\r\n\r\n        this._emailEl = null;\r\n    }\r\n\r\n    init(selectedPage, userEmail) {\r\n        this._navEl.innerHTML = this._nav(selectedPage);\r\n        this._userEl.innerHTML = this._user(selectedPage);\r\n\r\n        this._emailEl = document.getElementById(\"loggedInUserEmail\");\r\n        this._emailEl.textContent = userEmail;\r\n    }\r\n\r\n    _nav (selectedPage) {\r\n        return String.raw`\r\n            <ul>\r\n                <li>\r\n                    <a href=\"#diary\" ${selectedPage == \"diary\" ? 'id=\"pageSelected\"' : \"\"}>Diary</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#changeStyle\" ${selectedPage == \"changeStyle\" ? 'id=\"pageSelected\"' : \"\" }>Change style</a>\r\n                </li>\r\n            </ul>\r\n        `;\r\n    }\r\n\r\n    _user(selectedPage) {\r\n        return String.raw`\r\n            <div>\r\n                Logged&nbsp;in:&nbsp;<span id=\"loggedInUserEmail\"></span>\r\n            </div>\r\n            <div class=\"styleLink\">\r\n                <a class=\"navLink\" href=\"#logout\">Logout</a>\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { LoggedInView };","import { Controller } from \"./controller.js\";\r\nimport { LoggedInView } from \"../view/loggedIn.js\";\r\nimport { setStyle } from \"../view/style.js\";\r\n\r\nclass LoggedIn extends Controller\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._loggedInView = new LoggedInView();\r\n    }\r\n\r\n    init() {\r\n        let user = this._app.user;\r\n        if(user == null) {\r\n            return false;\r\n        }\r\n        setStyle(user.style);\r\n        this._loggedInView.init(this._app.router.getActualRoute(), user.email);\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { LoggedIn };","\r\nclass DiaryView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._formEl = null;\r\n\r\n        this._headline = \"Diary\";\r\n    }\r\n\r\n    getForm() {\r\n        return this._formEl;\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._diary();\r\n\r\n        this._formEl = document.querySelector(\"form\");\r\n    }\r\n\r\n    _diary() {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <div id=\"calendar\"></div>\r\n                <div id=\"diaryNote\"></div>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { DiaryView };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nclass DiaryNote extends StorageObject\r\n{\r\n    constructor() {\r\n        super(\"DiaryNote\");\r\n        this.date = null;\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n    }\r\n    static createDiaryNote(date, name, description) {\r\n        let note = new DiaryNote();\r\n        note.date = date;\r\n        note.name = name;\r\n        note.description = description;\r\n        return note;\r\n    }\r\n\r\n    static isNameIncorrect(name) {\r\n        if(name.length > 100)\r\n            return \"The name is too long.\";\r\n        if(name.length < 1)\r\n            return \"The name must be at least one character.\";\r\n        return \"\";\r\n    }\r\n\r\n    static isDescriptionIncorrect(description) {\r\n        if(description.length > 20000)\r\n            return \"The description is too long.\";\r\n        return \"\";\r\n    }\r\n}\r\n\r\n\r\nexport { DiaryNote };","import { CustomDate } from \"../model/date.js\";\r\n\r\nclass DiaryNoteView\r\n{\r\n    constructor(){\r\n        this._diaryNoteWrapperEl = null;\r\n        this._nameEl = null;\r\n        this._descriptionEl = null;\r\n        this._errorEl = null;\r\n    }\r\n\r\n    init() {\r\n        this._diaryNoteWrapperEl = document.getElementById(\"diaryNote\");\r\n        this._diaryNoteWrapperEl.innerHTML = \"\";\r\n    }\r\n\r\n    clearNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = \"\";\r\n    }\r\n    noneNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = this._noneNote();\r\n    }\r\n    createNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = this._createNote();\r\n        this._initFormData(\"\", \"\");\r\n        this._nameEl.addEventListener(\"blur\", e => this.clearErrors());\r\n        this._descriptionEl.addEventListener(\"blur\", e => this.clearErrors());\r\n    }\r\n    changeNote(name, description) {\r\n        this._diaryNoteWrapperEl.innerHTML = this._changeNote();\r\n        this._initFormData(name, description);\r\n        this._nameEl.addEventListener(\"blur\", e => this.clearErrors());\r\n        this._descriptionEl.addEventListener(\"blur\", e => this.clearErrors());\r\n    }\r\n    existingNote(name, description) {\r\n        this._diaryNoteWrapperEl.innerHTML = this._existingNote();\r\n        this._initFormData(name, description);\r\n    }\r\n    _initFormData(name, description) {\r\n        this._nameEl = document.querySelector(\"input#name\");\r\n        this._descriptionEl = document.querySelector(\"textarea#description\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n        this._nameEl.value = name;\r\n        this._descriptionEl.value = description;\r\n    }\r\n\r\n    getNameInput() {\r\n        return this._nameEl.value;\r\n    }\r\n    getDescriptionInput() {\r\n        return this._descriptionEl.value;\r\n    }\r\n\r\n\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n        this._nameEl.classList.remove('error');\r\n        this._descriptionEl.classList.remove('error');\r\n    }\r\n    setNameError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._nameEl.classList.add('error');\r\n    }\r\n    setDescriptionError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._descriptionEl.classList.add('error');\r\n    }\r\n\r\n    _noneNote() {\r\n        return String.raw`\r\n            <input class=\"submitForm\" type=\"submit\" name=\"createNote\" value=\"Create note\">\r\n        `;\r\n    }\r\n\r\n    _createNote() {\r\n        return String.raw`\r\n            <label>\r\n                Name: <span class=\"mandatory\">*</span>\r\n                <input id=\"name\" type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea id=\"description\" id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <p class=\"error\"></p>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"create\" value=\"Create\">\r\n            <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"cancel\" value=\"Cancel\">\r\n            <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n        `;\r\n    }\r\n\r\n    _changeNote() {\r\n        return String.raw`\r\n            <label>\r\n                Name: <span class=\"mandatory\">*</span>\r\n                <input id=\"name\" type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea id=\"description\" id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <p class=\"error\"></p>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"safeChanges\" value=\"Safe changes\">\r\n            <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"cancel\" value=\"Cancel\">\r\n            <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n        `;\r\n    }\r\n\r\n    _existingNote() {\r\n        return String.raw`\r\n            <label>\r\n                Name:\r\n                <input id=\"name\" readonly type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea readonly id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <div>\r\n                <input class=\"submitForm\" type=\"submit\" name=\"change\" value=\"Change\">\r\n                <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n                <input class=\"submitForm\" type=\"submit\" name=\"delete\" value=\"Delete\">\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { DiaryNoteView };","import { Controller } from \"./controller.js\";\r\nimport { CustomDate } from \"../model/date.js\";\r\nimport { DiaryNote } from \"../model/diaryNote.js\";\r\nimport { DiaryNoteView } from \"../view/diaryNotebook.js\";\r\n\r\nclass DiaryNotebook extends Controller\r\n{\r\n    constructor(app, calendar) {\r\n        super(app);\r\n        this._view = new DiaryNoteView();\r\n        this._calendar = calendar;\r\n    }\r\n\r\n    init() {\r\n        this._view.init();\r\n        this.update();\r\n        return true;\r\n    }\r\n\r\n    update() {\r\n        let selectedDay = this._calendar.getSelectedDay();\r\n        if(selectedDay == -1) {\r\n            this._view.clearNote();\r\n        } else {\r\n            let note = this._findNote();\r\n            if(note == null) {\r\n                this._view.noneNote();\r\n            } else {\r\n                this._view.existingNote(note.name, note.description);\r\n            }\r\n        }\r\n        let date = this._calendar.getDate().makeCopy();\r\n        this._calendar.noteDays = this._app.user.diaryNotes\r\n            .filter(note => note.date.month == date.month)\r\n            .map(note => note.date.day);\r\n        if(this._calendar.noteDays == undefined) {\r\n            this._calendar.noteDays = [];\r\n        }\r\n        this._calendar.update();\r\n    }\r\n\r\n    submitForm(submitter) {\r\n        let selectedDay = this._calendar.getSelectedDay();\r\n        if(selectedDay == -1) {\r\n            this.update();\r\n            return;\r\n        }\r\n\r\n        if(submitter.name == \"createNote\") {\r\n            this._view.createNote();\r\n        }\r\n        else if(submitter.name == \"create\" || submitter.name == \"safeChanges\") {\r\n            let date = this._calendar.getDate().makeCopy();\r\n            let name = this._view.getNameInput();\r\n            let description = this._view.getDescriptionInput();\r\n            this._view.clearErrors();\r\n            let isIncorrect = DiaryNote.isNameIncorrect(name);\r\n            if(isIncorrect) {\r\n                this._view.setNameError(isIncorrect);\r\n                return;\r\n            }\r\n            isIncorrect = DiaryNote.isDescriptionIncorrect(description);\r\n            if(isIncorrect) {\r\n                this._view.setDescriptionError(isIncorrect);\r\n                return;\r\n            }\r\n            let note = DiaryNote.createDiaryNote(date.makeCopy(), name, description);\r\n            let diaryNotes = this._app.user.diaryNotes;\r\n            let index = diaryNotes.findIndex((diaryNote) => date.compare(diaryNote.date));\r\n            if(index < 0) {\r\n                diaryNotes.push(note);\r\n            } else {\r\n                diaryNotes[index] = note;\r\n            }\r\n            this._app._users.save();\r\n            this.update();\r\n        }\r\n        else if(submitter.name == \"change\") {\r\n            let note = this._findNote();\r\n            if(note != null) {\r\n                this._view.changeNote(note.name, note.description);\r\n            }\r\n        }\r\n        else if(submitter.name == \"delete\") {\r\n            let date = this._calendar.getDate().makeCopy();\r\n            let diaryNotes = this._app.user.diaryNotes;\r\n            this._app.user.diaryNotes = diaryNotes.filter((diaryNote) => !diaryNote.date.compare(date));\r\n            this._app._users.save();\r\n            this.update();\r\n        } else {\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    _findNote() {\r\n        return this._app.user.diaryNotes.find((diaryNote) => this._calendar.getDate().compare(diaryNote.date));\r\n    }\r\n}\r\n\r\nexport { DiaryNotebook };","import { LoggedIn } from \"./loggedIn.js\";\r\nimport { DiaryView } from \"../view/diary.js\";\r\nimport { Calendar } from \"./calendar.js\";\r\nimport { DiaryNotebook } from \"./diaryNotebook.js\";\r\n\r\nclass Diary extends LoggedIn\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new DiaryView();\r\n        this._calendar = new Calendar(app);\r\n        this._diaryNote = new DiaryNotebook(app, this._calendar);\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._calendar.init();\r\n            this._diaryNote.init();\r\n            let form = this._view.getForm();\r\n            form.addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm(e.submitter);});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm(submitter) {\r\n        this._calendar.submitForm(submitter);\r\n        this._diaryNote.submitForm(submitter);\r\n    }\r\n}\r\n\r\nexport { Diary };","import { LoggedIn } from \"./loggedIn.js\";\r\n\r\nclass Logout extends LoggedIn\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._app.user = null;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nexport { Logout };","\r\nclass ChangeStyleView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._changeStyleFormEl = null;\r\n\r\n        this._headline = \"Change style\";\r\n    }\r\n\r\n    init(style) {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._changeStyleForm(style);\r\n\r\n        this._changeStyleFormEl = document.querySelector(\"form\");\r\n    }\r\n\r\n    getForm() {\r\n        return this._changeStyleFormEl;\r\n    }\r\n\r\n    _changeStyleForm(style) {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Styles: <span class=\"mandatory\">*</span>\r\n                </label>\r\n                <label>\r\n                    <input class=\"radioBut\" required type=\"radio\" name=\"style\" value=\"blue\" ${style == \"blue\" ? \"checked\" : \"\"}>\r\n                    Blue style\r\n                </label>\r\n                <label>\r\n                    <input class=\"radioBut\" type=\"radio\" name=\"style\" value=\"green\" ${style == \"green\" ? \"checked\" : \"\"}>\r\n                    Green style\r\n                </label>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Change\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { ChangeStyleView };","import { LoggedIn } from \"./loggedIn.js\";\r\nimport { ChangeStyleView } from \"../view/changeStyle.js\";\r\nimport { setStyle } from \"../view/style.js\";\r\n\r\nclass ChangeStyle extends LoggedIn\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new ChangeStyleView();\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init(this._app.user.style);\r\n            this._view.getForm().addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm();});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm() {\r\n        let form = this._view.getForm();\r\n        let user = this._app.user;\r\n        let formData = new FormData(form);\r\n        user.style = formData.get(\"style\");\r\n        this._app._users.save();\r\n        setStyle(user.style);\r\n    }\r\n}\r\n\r\nexport { ChangeStyle };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nclass Note extends StorageObject\r\n{\r\n    constructor() {\r\n        super(\"Note\");\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n    }\r\n    static createNote(name, description) {\r\n        let note = new Note();\r\n        note.name = name;\r\n        note.description = description;\r\n        return note;\r\n    }\r\n\r\n    static isNameIncorrect(name) {\r\n        if(name.length > 100)\r\n            return \"The name is too long.\";\r\n        if(name.length < 1)\r\n            return \"The name must be at least one character.\";\r\n        return \"\";\r\n    }\r\n\r\n    static isDescriptionIncorrect(description) {\r\n        if(description.length > 20000)\r\n            return \"The description is too long.\";\r\n        return \"\";\r\n    }\r\n}\r\n\r\n\r\nexport { Note };","import { App } from \"./control/app\";\r\nlet app = new App();\r\n","import { Router } from \"./router\";\r\nimport { AppStorage } from \"./appStorage\";\r\nimport { Main } from \"./main\";\r\nimport { Login } from \"./login\";\r\nimport { Register } from \"./register\";\r\nimport { Diary } from \"./diary\";\r\nimport { Logout } from \"./logout\";\r\nimport { ChangeStyle } from \"./changeStyle\";\r\nimport { User } from \"../model/user\";\r\nimport { CustomDate } from \"../model/date\";\r\nimport { Note } from \"../model/note\";\r\nimport { DiaryNote } from \"../model/diaryNote\";\r\nclass App {\r\n    constructor() {\r\n        let routes = {\r\n            main: new Main(this),\r\n            login: new Login(this),\r\n            register: new Register(this),\r\n            diary: new Diary(this),\r\n            /*notebook: new Notebook(this),*/\r\n            logout: new Logout(this),\r\n            changeStyle: new ChangeStyle(this)\r\n        };\r\n        let defaultRoute = {\r\n            name: \"main\",\r\n            control: routes.main\r\n        };\r\n        this.router = new Router(routes, defaultRoute);\r\n        this.router.route();\r\n        this._users = new AppStorage(\"diary-js-users\", [User, CustomDate, Note, DiaryNote]);\r\n        this._users.load();\r\n        this.user = null;\r\n    }\r\n    getUsers() {\r\n        return this._users;\r\n    }\r\n}\r\nexport { App };\r\n"],"names":["Router","constructor","routes","defaultRoute","window","addEventListener","e","this","route","_routes","_defaultRoute","_actualRoute","getActualRoute","routeFound","hash","location","routeName","routeControl","Object","entries","init","routeDefault","routeTo","newRoute","console","log","name","control","AppStorage","storedClasses","data","forEach","storedClass","getStorageClassName","getData","load","rawData","localStorage","getItem","save","JSON","parse","key","value","newObject","_storageClassName","assign","setItem","stringify","Controller","app","_app","LoggedOutView","_navEl","document","querySelector","_userEl","getElementById","_user","selectedPage","innerHTML","_nav","String","raw","styles","blue","headerFooter","mainBg","text","mandatory","dark","note","noteBgHover","tableSelected","tableSelectedHover","tableButtonBg","error","green","setStyle","styleName","root","documentElement","style","setProperty","LoggedOut","super","_loggedOutView","router","StorageObject","storageClassName","monthNames","dayNamesShots","CustomDate","day","month","year","date","Date","createDate","getDate","getMonth","getFullYear","getMonthName","getDayInWeekName","Intl","DateTimeFormat","weekday","format","toDate","toString","getDayInWeekShortName","getDayInWeek","getDay","getDaysInMonth","incrementMonth","dencrementMonth","compare","makeCopy","projectInfo","MainView","_headlineEl","_mainEl","_footerEl","_formEl","_headline","authorName","packageInfo","author","buildYear","buildDate","buildVersion","version","_footer","getForm","title","_basicCalendar","createCurrentDate","CalendarView","_calendarWrapperEl","_calendarBodyEl","selectedDay","noteDays","_calendar","_calendarBody","selectCell","dayIndex","cell","classList","add","deselectCell","remove","join","getDayShorts","map","cells","_calendarCells","row","firstDayInMonth","dayInWeek","currentDate","daysInMonth","j","i","length","push","_otherMonthCell","isSelected","_cell","includes","cellClass","arr","reduce","a","b","Calendar","_view","_selectedDay","_date","update","getSelectedDay","submitForm","submitter","parseInt","Main","progress","preventDefault","LoginView","_loginFormEl","_emailInputEl","_passwordInputEl","_errorEl","_loginForm","getEmailInput","getPasswordInput","clearErrors","textContent","setError","message","Login","_submitForm","email","password","user","_findUser","doesPasswordMatch","then","matches","users","getUsers","foundUser","RegisterView","_registerFormEl","_password1InputEl","_password2InputEl","_registerForm","getPassword1Input","getPassword2Input","setEmailError","setPassword1Error","setPassword2Error","User","passwordHash","notes","diaryNotes","createHash","indexOf","async","msgUint8","TextEncoder","encode","hashBuffer","crypto","subtle","digest","Array","from","Uint8Array","padStart","Register","_validateEmail","_validatePassword1","_validatePassword2","createWithPassword","isIncorrect","isEmailIncorrect","_isRegistered","password1","isPasswordIncorrect","isRegistered","LoggedInView","_emailEl","userEmail","LoggedIn","_loggedInView","DiaryView","_diary","DiaryNote","description","DiaryNoteView","_diaryNoteWrapperEl","_nameEl","_descriptionEl","clearNote","noneNote","_noneNote","createNote","_createNote","_initFormData","changeNote","_changeNote","existingNote","_existingNote","getNameInput","getDescriptionInput","setNameError","setDescriptionError","DiaryNotebook","calendar","_findNote","filter","undefined","isNameIncorrect","isDescriptionIncorrect","createDiaryNote","index","findIndex","diaryNote","_users","find","Diary","_diaryNote","Logout","ChangeStyleView","_changeStyleFormEl","_changeStyleForm","ChangeStyle","form","formData","FormData","get","Note","main","login","register","diary","logout","changeStyle"],"sourceRoot":""}