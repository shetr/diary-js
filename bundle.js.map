{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://diary-js/./src/ts/control/router.ts","webpack://diary-js/./src/ts/control/appStorage.ts","webpack://diary-js/./src/ts/control/controller.ts","webpack://diary-js/./src/ts/view/loggedOut.ts","webpack://diary-js/./src/ts/view/style.ts","webpack://diary-js/./src/ts/control/loggedOut.ts","webpack://diary-js/./src/ts/control/storageObject.ts","webpack://diary-js/./src/ts/model/date.ts","webpack://diary-js/./src/ts/gen/projectInfo.ts","webpack://diary-js/./src/ts/view/main.ts","webpack://diary-js/./src/ts/view/calendar.ts","webpack://diary-js/./src/ts/control/calendar.ts","webpack://diary-js/./src/ts/control/main.ts","webpack://diary-js/./src/ts/view/login.ts","webpack://diary-js/./src/ts/control/login.ts","webpack://diary-js/./src/ts/view/register.ts","webpack://diary-js/./src/ts/model/user.ts","webpack://diary-js/./src/ts/control/register.ts","webpack://diary-js/./src/ts/view/loggedIn.ts","webpack://diary-js/./src/ts/control/loggedIn.ts","webpack://diary-js/./src/ts/view/diary.ts","webpack://diary-js/./src/ts/model/diaryNote.ts","webpack://diary-js/./src/ts/view/diaryNotebook.ts","webpack://diary-js/./src/ts/control/diaryNotebook.ts","webpack://diary-js/./src/ts/control/diary.ts","webpack://diary-js/./src/ts/control/logout.ts","webpack://diary-js/./src/ts/view/changeStyle.ts","webpack://diary-js/./src/ts/control/changeStyle.ts","webpack://diary-js/./src/ts/model/note.ts","webpack://diary-js/./src/ts/index.ts","webpack://diary-js/./src/ts/control/app.ts"],"sourcesContent":["class Router {\r\n    constructor(routes, defaultRoute) {\r\n        window.addEventListener('popstate', e => this.route());\r\n        this._routes = routes;\r\n        this._defaultRoute = defaultRoute;\r\n        this._actualRoute = \"\";\r\n    }\r\n    getActualRoute() {\r\n        return this._actualRoute;\r\n    }\r\n    route() {\r\n        let routeFound = false;\r\n        const hash = window.location.hash;\r\n        for (const [routeName, routeControl] of Object.entries(this._routes)) {\r\n            if (\"#\" + routeName == hash) {\r\n                this._actualRoute = routeName;\r\n                if (routeControl.init()) {\r\n                    routeFound = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (!routeFound) {\r\n            this.routeDefault();\r\n        }\r\n    }\r\n    routeTo(newRoute) {\r\n        let routeFound = false;\r\n        for (const [routeName, routeControl] of Object.entries(this._routes)) {\r\n            if (routeName == newRoute) {\r\n                routeFound = true;\r\n            }\r\n        }\r\n        if (!routeFound) {\r\n            console.log(\"route %s does not exist\", newRoute);\r\n            return;\r\n        }\r\n        this._actualRoute = newRoute;\r\n        window.location.hash = \"#\" + newRoute;\r\n        this._routes[newRoute].init();\r\n    }\r\n    routeDefault() {\r\n        this._actualRoute = this._defaultRoute.name;\r\n        window.location.hash = \"#\" + this._defaultRoute.name;\r\n        this._defaultRoute.control.init();\r\n    }\r\n}\r\nexport { Router };\r\n","class AppStorage {\r\n    constructor(name, storedClasses) {\r\n        this.name = name;\r\n        this.storedClasses = {};\r\n        this.data = [];\r\n        storedClasses.forEach(storedClass => {\r\n            this.storedClasses[(new storedClass()).getStorageClassName()] = storedClass;\r\n        });\r\n    }\r\n    getData() {\r\n        return this.data;\r\n    }\r\n    load() {\r\n        let rawData = window.localStorage.getItem(this.name);\r\n        if (rawData == null) {\r\n            this.save();\r\n        }\r\n        else {\r\n            this.data = JSON.parse(rawData, (key, value) => {\r\n                if (typeof value === 'object' && \"_storageClassName\" in value) {\r\n                    let newObject = new this.storedClasses[value._storageClassName]();\r\n                    return Object.assign(newObject, value);\r\n                }\r\n                else {\r\n                    return value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    save() {\r\n        window.localStorage.setItem(this.name, JSON.stringify(this.data));\r\n    }\r\n}\r\nexport { AppStorage };\r\n","class Controller {\r\n    constructor(app) {\r\n        this._app = app;\r\n    }\r\n    init() {\r\n        return true;\r\n    }\r\n}\r\nexport { Controller };\r\n","class LoggedOutView {\r\n    constructor() {\r\n        this._navEl = document.querySelector(\"header nav\");\r\n        this._userEl = document.getElementById(\"user\");\r\n        this._user = \"\";\r\n    }\r\n    init(selectedPage) {\r\n        this._navEl.innerHTML = this._nav(selectedPage);\r\n        this._userEl.innerHTML = this._user;\r\n    }\r\n    _nav(selectedPage) {\r\n        return String.raw `\r\n            <ul>\r\n                <li>\r\n                    <a href=\"#main\" ${selectedPage == \"main\" ? 'id=\"pageSelected\"' : \"\"}>Main page</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#login\" ${selectedPage == \"login\" ? 'id=\"pageSelected\"' : \"\"}>Login</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#register\" ${selectedPage == \"register\" ? 'id=\"pageSelected\"' : \"\"}>Register</a>\r\n                </li>\r\n            </ul>\r\n        `;\r\n    }\r\n}\r\nexport { LoggedOutView };\r\n","let styles = {\r\n    blue: {\r\n        headerFooter: \"#12146b\",\r\n        mainBg: \"#191c94\",\r\n        text: \"white\",\r\n        mandatory: \"#ff4e00\",\r\n        dark: \"#070f3d\",\r\n        note: \"#070f3d\",\r\n        noteBgHover: \"#00a0d5\",\r\n        tableSelected: \"#1b62c2\",\r\n        tableSelectedHover: \"#14478c\",\r\n        tableButtonBg: \"#00a0d5\",\r\n        error: \"#ff4e00\"\r\n    },\r\n    green: {\r\n        headerFooter: \"#239311\",\r\n        mainBg: \"#30cf16\",\r\n        text: \"black\",\r\n        mandatory: \"#bd0000\",\r\n        dark: \"#0f3d07\",\r\n        note: \"#053007\",\r\n        noteBgHover: \"#46ee4e\",\r\n        tableSelected: \"#108d16\",\r\n        tableSelectedHover: \"#0b5b0e\",\r\n        tableButtonBg: \"#46ee4e\",\r\n        error: \"#bd0000\"\r\n    }\r\n};\r\nfunction setStyle(styleName) {\r\n    let root = document.documentElement;\r\n    let style = styles[styleName];\r\n    root.style.setProperty(\"--header-footer-color\", style.headerFooter);\r\n    root.style.setProperty(\"--main-bg-color\", style.mainBg);\r\n    root.style.setProperty(\"--text-color\", style.text);\r\n    root.style.setProperty(\"--mandatory-color\", style.mandatory);\r\n    root.style.setProperty(\"--dark-color\", style.dark);\r\n    root.style.setProperty(\"--note-color\", style.note);\r\n    root.style.setProperty(\"--note-bg-color-hover\", style.noteBgHover);\r\n    root.style.setProperty(\"--table-selected-color\", style.tableSelected);\r\n    root.style.setProperty(\"--table-selected-hover-color\", style.tableSelectedHover);\r\n    root.style.setProperty(\"--table-button-bg-color\", style.tableButtonBg);\r\n    root.style.setProperty(\"--error-color\", style.error);\r\n}\r\nexport { setStyle };\r\n","import { Controller } from \"./controller\";\r\nimport { LoggedOutView } from \"../view/loggedOut\";\r\nimport { setStyle } from \"../view/style\";\r\nclass LoggedOut extends Controller {\r\n    constructor(app) {\r\n        super(app);\r\n        this._loggedOutView = new LoggedOutView();\r\n    }\r\n    init() {\r\n        setStyle(\"blue\");\r\n        this._loggedOutView.init(this._app.router.getActualRoute());\r\n        return true;\r\n    }\r\n}\r\nexport { LoggedOut };\r\n","class StorageObject {\r\n    constructor(storageClassName) {\r\n        this._storageClassName = storageClassName;\r\n    }\r\n    getStorageClassName() {\r\n        return this._storageClassName;\r\n    }\r\n}\r\nexport { StorageObject };\r\n","import { StorageObject } from \"../control/storageObject\";\r\nlet monthNames = [\r\n    \"January\",\r\n    \"Febuary\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\"\r\n];\r\nlet dayNames = [\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Fiday\",\r\n    \"Saturday\",\r\n    \"Sunday\"\r\n];\r\nlet dayNamesShots = [\r\n    \"Mo\",\r\n    \"Tu\",\r\n    \"We\",\r\n    \"Th\",\r\n    \"Fr\",\r\n    \"Sa\",\r\n    \"Su\"\r\n];\r\n// TODO: maybe do the attributes typesafe, but that would be hard, so maybe change access rights and maybe mutability\r\nclass CustomDate extends StorageObject {\r\n    constructor() {\r\n        super(\"Date\");\r\n        this.day = 1;\r\n        this.month = 1;\r\n        this.year = 1;\r\n    }\r\n    static createDate(day, month, year) {\r\n        let date = new CustomDate();\r\n        date.day = day;\r\n        date.month = month;\r\n        date.year = year;\r\n        return date;\r\n    }\r\n    static createCurrentDate() {\r\n        let date = new Date();\r\n        return this.createDate(date.getDate(), date.getMonth(), date.getFullYear());\r\n    }\r\n    static getDayShorts() {\r\n        return dayNamesShots;\r\n    }\r\n    getMonthName() {\r\n        return monthNames[this.month];\r\n    }\r\n    getDayInWeekName() {\r\n        var options = { weekday: 'long' }; // TODO: just double check if it could be resolved without any\r\n        return new Intl.DateTimeFormat('en-US', options).format(this.toDate()).toString();\r\n    }\r\n    getDayInWeekShortName() {\r\n        return dayNamesShots[this.getDayInWeek()];\r\n    }\r\n    getDayInWeek() {\r\n        let date = new Date(this.year, this.month, this.day);\r\n        return date.getDay();\r\n    }\r\n    getDaysInMonth() {\r\n        let date = new Date();\r\n        let month = date.getMonth() + 1;\r\n        let year = date.getFullYear();\r\n        return new Date(year, month, 0).getDate();\r\n    }\r\n    incrementMonth() {\r\n        let date = new Date(this.year, this.month + 1, 1);\r\n        this.year = date.getFullYear();\r\n        this.month = date.getMonth();\r\n        this.day = date.getDate();\r\n    }\r\n    dencrementMonth() {\r\n        let date = new Date(this.year, this.month - 1, 1);\r\n        this.year = date.getFullYear();\r\n        this.month = date.getMonth();\r\n        this.day = date.getDate();\r\n    }\r\n    toDate() {\r\n        return new Date(this.year, this.month, this.day);\r\n    }\r\n    toString() {\r\n        return this.getDayInWeekName() + \" \" + String(this.day) + \". \" + monthNames[this.month] + \" \" + String(this.year);\r\n    }\r\n    compare(date) {\r\n        return this.day == date.day && this.month == date.month && this.year == date.year;\r\n    }\r\n    makeCopy() {\r\n        return CustomDate.createDate(this.day, this.month, this.year);\r\n    }\r\n}\r\nexport { CustomDate };\r\n","// WARNING: Don't make changes to this file. It will be generated automatically with each build.\r\nconst projectInfo = {\r\n    \"buildDate\": new Date(2021, 8, 25),\r\n    \"packageInfo\": {\r\n        \"name\": \"diary-js\",\r\n        \"homepage\": \"http://shetr.github.io/diary-js\",\r\n        \"version\": \"1.1.3\",\r\n        \"description\": \"Reworked version of zwa-diary-js.\",\r\n        \"main\": \"src/ts/index.ts\",\r\n        \"scripts\": {\r\n            \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\r\n            \"gen\": \"node scripts/gen-project-info.js src/ts/gen/projectInfo.ts\",\r\n            \"css:scss\": \"node-sass --output-style compressed -o dist src/scss\",\r\n            \"css:autoprefixer\": \"postcss -u autoprefixer -r dist/*.css\",\r\n            \"css:lint\": \"stylelint src/scss/*.scss --syntax scss || true\",\r\n            \"build:css\": \"npm run css:lint && npm run css:scss && npm run css:autoprefixer\",\r\n            \"build:js\": \"npm run gen && webpack --mode=production\",\r\n            \"build:html\": \"posthtml -c posthtml.json\",\r\n            \"watch:css\": \"onchange \\\"src/scss\\\" -- npm run build:css\",\r\n            \"watch:js\": \"onchange \\\"src/js\\\" -- webpack --mode=development\",\r\n            \"watch:html\": \"onchange \\\"src/views\\\" -- npm run build:html\",\r\n            \"serve\": \"browser-sync start --server \\\"dist\\\" --files \\\"dist\\\"\",\r\n            \"watch\": \"run-p serve watch:*\",\r\n            \"build\": \"run-p build:*\",\r\n            \"deploy\": \"gh-pages -d dist\",\r\n            \"build-deploy\": \"npm run build && npm run deploy\"\r\n        },\r\n        \"keywords\": [],\r\n        \"author\": {\r\n            \"name\": \"Petr Šádek\",\r\n            \"email\": \"shetr.git@gmail.com\"\r\n        },\r\n        \"license\": \"ISC\",\r\n        \"devDependencies\": {\r\n            \"autoprefixer\": \"^10.3.4\",\r\n            \"browser-sync\": \"^2.27.5\",\r\n            \"gh-pages\": \"^3.2.3\",\r\n            \"htmlnano\": \"^1.1.1\",\r\n            \"node-sass\": \"^6.0.1\",\r\n            \"npm-run-all\": \"^4.1.5\",\r\n            \"onchange\": \"^7.1.0\",\r\n            \"postcss\": \"^8.3.6\",\r\n            \"postcss-cli\": \"^8.3.1\",\r\n            \"posthtml\": \"^0.16.5\",\r\n            \"posthtml-cli\": \"^0.10.0\",\r\n            \"posthtml-modules\": \"^0.7.4\",\r\n            \"source-map-loader\": \"^3.0.0\",\r\n            \"stylelint\": \"^13.13.1\",\r\n            \"ts-loader\": \"^9.2.5\",\r\n            \"typescript\": \"^4.4.3\",\r\n            \"webpack\": \"^5.53.0\",\r\n            \"webpack-cli\": \"^4.8.0\"\r\n        },\r\n        \"dependencies\": {}\r\n    }\r\n};\r\nexport { projectInfo };\r\n","import { CustomDate } from \"../model/date\";\r\nimport { projectInfo } from \"../gen/projectInfo\";\r\nclass MainView {\r\n    constructor() {\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._footerEl = document.querySelector(\"footer\");\r\n        this._formEl = null;\r\n        this._headline = \"Diary\";\r\n        let authorName = projectInfo.packageInfo.author.name;\r\n        let buildYear = projectInfo.buildDate.getFullYear();\r\n        let buildVersion = projectInfo.packageInfo.version;\r\n        this._footer = `${buildYear}&nbsp;&nbsp;&nbsp;${authorName}&nbsp;&nbsp;&nbsp;v${buildVersion}`;\r\n    }\r\n    getForm() {\r\n        return this._formEl;\r\n    }\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._footerEl.innerHTML = this._footer;\r\n        this._mainEl.innerHTML = this._basicCalendar();\r\n        this._formEl = document.querySelector(\"form\");\r\n    }\r\n    _basicCalendar() {\r\n        let date = CustomDate.createCurrentDate();\r\n        return String.raw `\r\n            <div id=\"currentDate\">Today is ${date.toString()}</div>\r\n            <form method=\"post\" action=\"\">\r\n                <div id=\"calendar\"></div>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\nexport { MainView };\r\n","import { CustomDate } from \"../model/date\";\r\nclass CalendarView {\r\n    constructor() {\r\n        this._calendarWrapperEl = null;\r\n        this._calendarBodyEl = null;\r\n    }\r\n    init(date, selectedDay, noteDays) {\r\n        this._calendarWrapperEl = document.getElementById(\"calendar\");\r\n        this._calendarWrapperEl.innerHTML = this._calendar(date);\r\n        this._calendarBodyEl = document.querySelector(\"tbody\");\r\n        this._calendarBodyEl.innerHTML = this._calendarBody(date, selectedDay, noteDays);\r\n    }\r\n    selectCell(dayIndex) {\r\n        let cell = document.getElementById(\"day\" + String(dayIndex));\r\n        if (cell != null) {\r\n            cell.classList.add(\"selectedTab\");\r\n        }\r\n    }\r\n    deselectCell(dayIndex) {\r\n        let cell = document.getElementById(\"day\" + String(dayIndex));\r\n        if (cell != null) {\r\n            cell.classList.remove(\"selectedTab\");\r\n        }\r\n    }\r\n    _calendar(date) {\r\n        return String.raw `\r\n            <table>\r\n                <thead>\r\n                <tr> \r\n                    <td colspan=\"5\">\r\n                        <div class=\"buttonTab\">\r\n                            ${date.getMonthName()} ${date.year}\r\n                        </div>\r\n                    </td> \r\n                    <td>\r\n                        <input class=\"buttonTab\" type=\"submit\" name=\"changeMonthLeft\" value=\"<\">\r\n                    </td> \r\n                    <td>\r\n                        <input class=\"buttonTab\" type=\"submit\" name=\"changeMonthRight\" value=\">\">\r\n                    </td> \r\n                </tr>\r\n                <tr>\r\n                    ${join(CustomDate.getDayShorts().map((day) => String.raw `\r\n                        <td>\r\n                            <div>\r\n                                ${day}\r\n                            </div>\r\n                        </td>\r\n                    `))}\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                </tbody>\r\n            </table>\r\n        `;\r\n    }\r\n    _calendarBody(date, selectedDay, noteDays) {\r\n        let cells = this._calendarCells(date, selectedDay, noteDays);\r\n        return String.raw `\r\n            ${join(cells.map((row) => String.raw `\r\n\t            <tr>\r\n                    ${join(row)}\r\n                </tr>\r\n            `))}\r\n        `;\r\n    }\r\n    _calendarCells(date, selectedDay, noteDays) {\r\n        let firstDayInMonth = CustomDate.createDate(1, date.month, date.year);\r\n        let dayInWeek = firstDayInMonth.getDayInWeek();\r\n        let currentDate = CustomDate.createCurrentDate();\r\n        let cells = [];\r\n        let daysInMonth = firstDayInMonth.getDaysInMonth();\r\n        let j = 2 - dayInWeek;\r\n        while (daysInMonth > 0) {\r\n            let row = [];\r\n            for (let i = 0; i < CustomDate.getDayShorts().length; i++) {\r\n                if (j < 1 || daysInMonth <= 0) {\r\n                    row.push(this._otherMonthCell());\r\n                }\r\n                else {\r\n                    let isSelected = false;\r\n                    if (selectedDay == j) {\r\n                        isSelected = true;\r\n                    }\r\n                    if (j == currentDate.day && date.month == currentDate.month && date.year == currentDate.year) {\r\n                        row.push(this._cell(isSelected, \"todayTab\", j));\r\n                    }\r\n                    else if (noteDays.includes(j)) {\r\n                        row.push(this._cell(isSelected, \"noteTab\", j));\r\n                    }\r\n                    else {\r\n                        row.push(this._cell(isSelected, \"activeCellTab\", j));\r\n                    }\r\n                    daysInMonth--;\r\n                }\r\n                j++;\r\n            }\r\n            cells.push(row);\r\n        }\r\n        return cells;\r\n    }\r\n    _cell(isSelected, cellClass, dayIndex) {\r\n        return String.raw `\r\n            <td id=\"day${dayIndex}\" ${isSelected ? 'class =\"selectedTab\"' : \"\"}>\r\n                    <input class=\"${cellClass}\" type=\"submit\" name=\"selectDay\" value=\"${dayIndex}\">\r\n            </td>\r\n        `;\r\n    }\r\n    _otherMonthCell() {\r\n        return String.raw `\r\n            <td>\r\n                <div class=\"deactivatedCellTab\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 10 10\">\r\n                        <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"10\"/>\r\n                        <line x1=\"0\" y1=\"10\" x2=\"10\" y2=\"0\"/>\r\n                    </svg>\r\n                </div>\r\n            </td>\r\n        `;\r\n    }\r\n}\r\nfunction join(arr) {\r\n    return arr.reduce((a, b) => a + b, \"\");\r\n}\r\nexport { CalendarView };\r\n","import { Controller } from \"./controller\";\r\nimport { CalendarView } from \"../view/calendar\";\r\nimport { CustomDate } from \"../model/date\";\r\nclass Calendar extends Controller {\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new CalendarView();\r\n        this._selectedDay = -1;\r\n        this._date = new CustomDate;\r\n        this.noteDays = [];\r\n    }\r\n    init() {\r\n        this._selectedDay = -1;\r\n        this._date = CustomDate.createCurrentDate();\r\n        this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        return true;\r\n    }\r\n    update() {\r\n        this._view.init(this._date, this._selectedDay, this.noteDays);\r\n    }\r\n    getSelectedDay() {\r\n        return this._selectedDay;\r\n    }\r\n    getDate() {\r\n        return this._date;\r\n    }\r\n    submitForm(submitter) {\r\n        if (submitter.name == \"selectDay\") {\r\n            let selectedDay = parseInt(submitter.value);\r\n            this._view.deselectCell(this._selectedDay);\r\n            this._view.selectCell(selectedDay);\r\n            this._selectedDay = selectedDay;\r\n            this._date.day = selectedDay;\r\n        }\r\n        else if (submitter.name == \"changeMonthLeft\") {\r\n            this._selectedDay = -1;\r\n            this._date.dencrementMonth();\r\n            this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        }\r\n        else if (submitter.name == \"changeMonthRight\") {\r\n            this._selectedDay = -1;\r\n            this._date.incrementMonth();\r\n            this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        }\r\n    }\r\n}\r\nexport { Calendar };\r\n","import { LoggedOut } from \"./loggedOut\";\r\nimport { MainView } from \"../view/main\";\r\nimport { Calendar } from \"./calendar\";\r\nclass Main extends LoggedOut {\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new MainView();\r\n        this._calendar = new Calendar(app);\r\n    }\r\n    init() {\r\n        let progress = super.init();\r\n        if (progress) {\r\n            this._view.init();\r\n            this._calendar.init();\r\n            let form = this._view.getForm();\r\n            form.addEventListener(\"submit\", (e) => { e.preventDefault(); this._calendar.submitForm(e.submitter); });\r\n        }\r\n        return progress;\r\n    }\r\n}\r\nexport { Main };\r\n","class LoginView {\r\n    constructor() {\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._loginFormEl = null;\r\n        this._emailInputEl = null;\r\n        this._passwordInputEl = null;\r\n        this._errorEl = null;\r\n        this._headline = \"Login\";\r\n    }\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._mainEl.innerHTML = this._loginForm();\r\n        this._loginFormEl = document.querySelector(\"form\");\r\n        this._emailInputEl = document.getElementById(\"email\");\r\n        this._passwordInputEl = document.getElementById(\"password\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n    }\r\n    getForm() {\r\n        return this._loginFormEl;\r\n    }\r\n    getEmailInput() {\r\n        return this._emailInputEl;\r\n    }\r\n    getPasswordInput() {\r\n        return this._passwordInputEl;\r\n    }\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n    }\r\n    setError(message) {\r\n        this._errorEl.textContent = message;\r\n    }\r\n    _loginForm() {\r\n        return String.raw `\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Email: <span class=\"mandatory\">*</span>\r\n                    <input id=\"email\" required type=\"email\" name=\"email\"/>\r\n                </label>\r\n                <label>\r\n                    Password: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password\" required type=\"password\" name=\"password\" />\r\n                </label>\r\n                <p class=\"error\"></p>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Login\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\nexport { LoginView };\r\n","import { LoginView } from \"../view/login\";\r\nimport { LoggedOut } from \"./loggedOut\";\r\nclass Login extends LoggedOut {\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new LoginView();\r\n    }\r\n    init() {\r\n        let progress = super.init();\r\n        if (progress) {\r\n            this._view.init();\r\n            this._view.getForm().addEventListener(\"submit\", (e) => { e.preventDefault(); this._submitForm(); });\r\n        }\r\n        return progress;\r\n    }\r\n    _submitForm() {\r\n        let email = this._view.getEmailInput().value;\r\n        let password = this._view.getPasswordInput().value;\r\n        let user = this._findUser(email);\r\n        if (user == null) {\r\n            this._view.setError(\"Incorrect email or password.\");\r\n            return;\r\n        }\r\n        user.doesPasswordMatch(password).then((matches) => {\r\n            if (!matches) {\r\n                this._view.setError(\"Incorrect email or password.\");\r\n                return;\r\n            }\r\n            this._app.user = user;\r\n            this._app.router.routeTo(\"diary\");\r\n        });\r\n    }\r\n    _findUser(email) {\r\n        let users = this._app.getUsers().getData();\r\n        let foundUser = null;\r\n        users.forEach((user) => {\r\n            if (user.email == email) {\r\n                foundUser = user;\r\n            }\r\n        });\r\n        return foundUser;\r\n    }\r\n}\r\nexport { Login };\r\n","class RegisterView {\r\n    constructor() {\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._registerFormEl = null;\r\n        this._emailInputEl = null;\r\n        this._password1InputEl = null;\r\n        this._password2InputEl = null;\r\n        this._errorEl = null;\r\n        this._headline = \"Register\";\r\n    }\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._mainEl.innerHTML = this._registerForm();\r\n        this._registerFormEl = document.querySelector(\"form\");\r\n        this._emailInputEl = document.getElementById(\"email\");\r\n        this._password1InputEl = document.getElementById(\"password1\");\r\n        this._password2InputEl = document.getElementById(\"password2\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n    }\r\n    getForm() {\r\n        return this._registerFormEl;\r\n    }\r\n    getEmailInput() {\r\n        return this._emailInputEl;\r\n    }\r\n    getPassword1Input() {\r\n        return this._password1InputEl;\r\n    }\r\n    getPassword2Input() {\r\n        return this._password2InputEl;\r\n    }\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n        this._emailInputEl.classList.remove('error');\r\n        this._password1InputEl.classList.remove('error');\r\n        this._password2InputEl.classList.remove('error');\r\n    }\r\n    setEmailError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._emailInputEl.classList.add('error');\r\n    }\r\n    setPassword1Error(message) {\r\n        this._errorEl.textContent = message;\r\n        this._password1InputEl.classList.add('error');\r\n    }\r\n    setPassword2Error(message) {\r\n        this._errorEl.textContent = message;\r\n        this._password2InputEl.classList.add('error');\r\n    }\r\n    _registerForm() {\r\n        return String.raw `\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Email: <span class=\"mandatory\">*</span>\r\n                    <input id=\"email\" required type=\"email\" name=\"email\"/>\r\n                </label>\r\n                <label>\r\n                    Password: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password1\" required type=\"password\" name=\"password1\" />\r\n                </label>\r\n                <label>\r\n                    Password check: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password2\" required type=\"password\" name=\"password2\" />\r\n                </label>\r\n                <p class=\"error\"></p>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Register\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\nexport { RegisterView };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { StorageObject } from \"../control/storageObject\";\r\nexport class User extends StorageObject // TODO: change visibility and mutability of attributes\r\n {\r\n    constructor() {\r\n        super(\"User\");\r\n        this.email = \"\";\r\n        this.passwordHash = \"\"; // TODO: maybe replace with some PasswordHash type\r\n        this.notes = [];\r\n        this.diaryNotes = [];\r\n        this.style = \"blue\";\r\n    }\r\n    doesPasswordMatch(password) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let passwordHash = yield createHash(password);\r\n            return this.passwordHash == passwordHash;\r\n        });\r\n    }\r\n    static createWithPassword(email, password) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let user = new User();\r\n            user.email = email;\r\n            user.passwordHash = yield createHash(password);\r\n            return user;\r\n        });\r\n    }\r\n    static isEmailIncorrect(email) {\r\n        if (!(email.indexOf(\"@\") > -1 && email.indexOf(\".\") > -1)) {\r\n            return \"Missing @ or . in the email.\";\r\n        }\r\n        if (!(email.indexOf(\"@\") > 0 && email.indexOf(\".\") > email.indexOf(\"@\") + 1 && email.indexOf(\".\") < email.length - 1)) {\r\n            return \"Incorrect email.\";\r\n        }\r\n        return \"\";\r\n    }\r\n    static isPasswordIncorrect(password) {\r\n        if (password.length <= 3) {\r\n            return 'Password must be longer than 3 characters.';\r\n        }\r\n        return \"\";\r\n    }\r\n}\r\nfunction createHash(password) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // copied from mdn\r\n        const msgUint8 = new TextEncoder().encode(password);\r\n        const hashBuffer = yield crypto.subtle.digest('SHA-256', msgUint8).then();\r\n        const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n        const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n        return hashHex;\r\n    });\r\n}\r\n","import { LoggedOut } from \"./loggedOut\";\r\nimport { RegisterView } from \"../view/register\";\r\nimport { User } from \"../model/user\";\r\nclass Register extends LoggedOut {\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new RegisterView();\r\n    }\r\n    init() {\r\n        let progress = super.init();\r\n        if (progress) {\r\n            this._view.init();\r\n            this._view.getForm().addEventListener(\"submit\", (e) => { e.preventDefault(); this._submitForm(); });\r\n            this._view.getEmailInput().addEventListener(\"keyup\", (e) => { e.preventDefault(); this._validateEmail(); });\r\n            this._view.getPassword1Input().addEventListener(\"blur\", (e) => { e.preventDefault(); this._validatePassword1(); });\r\n            this._view.getPassword2Input().addEventListener(\"blur\", (e) => { e.preventDefault(); this._validatePassword2(); });\r\n        }\r\n        return progress;\r\n    }\r\n    _submitForm() {\r\n        let isValid = this._validatePassword2() &&\r\n            this._validatePassword1() &&\r\n            this._validateEmail();\r\n        if (isValid) {\r\n            let email = this._view.getEmailInput().value;\r\n            let password = this._view.getPassword1Input().value;\r\n            let users = this._app.getUsers();\r\n            User.createWithPassword(email, password).then((user => {\r\n                users.getData().push(user);\r\n                users.save();\r\n                this._app.user = user;\r\n                this._app.router.routeTo(\"diary\");\r\n            }));\r\n        }\r\n    }\r\n    _validateEmail() {\r\n        this._view.clearErrors();\r\n        let email = this._view.getEmailInput().value;\r\n        let isIncorrect = User.isEmailIncorrect(email);\r\n        if (isIncorrect) {\r\n            this._view.setEmailError(isIncorrect);\r\n            return false;\r\n        }\r\n        if (this._isRegistered(email)) {\r\n            this._view.setEmailError(\"Such a user already exists.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _validatePassword1() {\r\n        this._view.clearErrors();\r\n        let password1 = this._view.getPassword1Input().value;\r\n        let isIncorrect = User.isPasswordIncorrect(password1);\r\n        if (isIncorrect) {\r\n            this._view.setPassword1Error(isIncorrect);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _validatePassword2() {\r\n        this._view.clearErrors();\r\n        let password1 = this._view.getPassword1Input().value;\r\n        let password2 = this._view.getPassword2Input().value;\r\n        if (password1 != password2) {\r\n            this._view.setPassword2Error(\"Passwords do not match.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _isRegistered(email) {\r\n        let users = this._app.getUsers().getData();\r\n        let isRegistered = false;\r\n        users.forEach((user) => {\r\n            if (user.email == email) {\r\n                isRegistered = true;\r\n            }\r\n        });\r\n        return isRegistered;\r\n    }\r\n}\r\nexport { Register };\r\n","class LoggedInView {\r\n    constructor() {\r\n        this._navEl = document.querySelector(\"header nav\");\r\n        this._userEl = document.getElementById(\"user\");\r\n        this._emailEl = null;\r\n    }\r\n    init(selectedPage, userEmail) {\r\n        this._navEl.innerHTML = this._nav(selectedPage);\r\n        this._userEl.innerHTML = this._user();\r\n        this._emailEl = document.getElementById(\"loggedInUserEmail\");\r\n        this._emailEl.textContent = userEmail;\r\n    }\r\n    _nav(selectedPage) {\r\n        return String.raw `\r\n            <ul>\r\n                <li>\r\n                    <a href=\"#diary\" ${selectedPage == \"diary\" ? 'id=\"pageSelected\"' : \"\"}>Diary</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#changeStyle\" ${selectedPage == \"changeStyle\" ? 'id=\"pageSelected\"' : \"\"}>Change style</a>\r\n                </li>\r\n            </ul>\r\n        `;\r\n    }\r\n    _user() {\r\n        return String.raw `\r\n            <div>\r\n                Logged&nbsp;in:&nbsp;<span id=\"loggedInUserEmail\"></span>\r\n            </div>\r\n            <div class=\"styleLink\">\r\n                <a class=\"navLink\" href=\"#logout\">Logout</a>\r\n            </div>\r\n        `;\r\n    }\r\n}\r\nexport { LoggedInView };\r\n","import { Controller } from \"./controller\";\r\nimport { LoggedInView } from \"../view/loggedIn\";\r\nimport { setStyle } from \"../view/style\";\r\nimport { User } from \"../model/user\";\r\nclass LoggedIn extends Controller {\r\n    constructor(app) {\r\n        super(app);\r\n        this._loggedInView = new LoggedInView();\r\n        this._user = new User();\r\n    }\r\n    init() {\r\n        let user = this._app.user;\r\n        if (user == null) {\r\n            return false;\r\n        }\r\n        this._user = user;\r\n        setStyle(this._user.style);\r\n        this._loggedInView.init(this._app.router.getActualRoute(), this._user.email);\r\n        return true;\r\n    }\r\n}\r\nexport { LoggedIn };\r\n","class DiaryView {\r\n    constructor() {\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._formEl = null;\r\n        this._headline = \"Diary\";\r\n    }\r\n    getForm() {\r\n        return this._formEl;\r\n    }\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._mainEl.innerHTML = this._diary();\r\n        this._formEl = document.querySelector(\"form\");\r\n    }\r\n    _diary() {\r\n        return String.raw `\r\n            <form method=\"post\" action=\"\">\r\n                <div id=\"calendar\"></div>\r\n                <div id=\"diaryNote\"></div>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\nexport { DiaryView };\r\n","import { StorageObject } from \"../control/storageObject\";\r\nimport { CustomDate } from \"./date\";\r\nclass DiaryNote extends StorageObject // TODO: change visibility and mutability of attributes\r\n {\r\n    constructor() {\r\n        super(\"DiaryNote\");\r\n        this.date = new CustomDate();\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n    }\r\n    static createDiaryNote(date, name, description) {\r\n        let note = new DiaryNote();\r\n        note.date = date;\r\n        note.name = name;\r\n        note.description = description;\r\n        return note;\r\n    }\r\n    static isNameIncorrect(name) {\r\n        if (name.length > 100)\r\n            return \"The name is too long.\";\r\n        if (name.length < 1)\r\n            return \"The name must be at least one character.\";\r\n        return \"\";\r\n    }\r\n    static isDescriptionIncorrect(description) {\r\n        if (description.length > 20000)\r\n            return \"The description is too long.\";\r\n        return \"\";\r\n    }\r\n}\r\nexport { DiaryNote };\r\n","class DiaryNoteView {\r\n    constructor() {\r\n        this._diaryNoteWrapperEl = null;\r\n        this._nameEl = null;\r\n        this._descriptionEl = null;\r\n        this._errorEl = null;\r\n    }\r\n    init() {\r\n        this._diaryNoteWrapperEl = document.getElementById(\"diaryNote\");\r\n        this._diaryNoteWrapperEl.innerHTML = \"\";\r\n    }\r\n    clearNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = \"\";\r\n    }\r\n    noneNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = this._noneNote();\r\n    }\r\n    createNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = this._createNote();\r\n        this._initFormData(\"\", \"\");\r\n        this._nameEl.addEventListener(\"blur\", (e) => this.clearErrors());\r\n        this._descriptionEl.addEventListener(\"blur\", (e) => this.clearErrors());\r\n    }\r\n    changeNote(name, description) {\r\n        this._diaryNoteWrapperEl.innerHTML = this._changeNote();\r\n        this._initFormData(name, description);\r\n        this._nameEl.addEventListener(\"blur\", (e) => this.clearErrors());\r\n        this._descriptionEl.addEventListener(\"blur\", (e) => this.clearErrors());\r\n    }\r\n    existingNote(name, description) {\r\n        this._diaryNoteWrapperEl.innerHTML = this._existingNote();\r\n        this._initFormData(name, description);\r\n    }\r\n    _initFormData(name, description) {\r\n        this._nameEl = document.querySelector(\"input#name\");\r\n        this._descriptionEl = document.querySelector(\"textarea#description\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n        this._nameEl.value = name;\r\n        this._descriptionEl.value = description;\r\n    }\r\n    getNameInput() {\r\n        return this._nameEl.value;\r\n    }\r\n    getDescriptionInput() {\r\n        return this._descriptionEl.value;\r\n    }\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n        this._nameEl.classList.remove('error');\r\n        this._descriptionEl.classList.remove('error');\r\n    }\r\n    setNameError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._nameEl.classList.add('error');\r\n    }\r\n    setDescriptionError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._descriptionEl.classList.add('error');\r\n    }\r\n    _noneNote() {\r\n        return String.raw `\r\n            <input class=\"submitForm\" type=\"submit\" name=\"createNote\" value=\"Create note\">\r\n        `;\r\n    }\r\n    _createNote() {\r\n        return String.raw `\r\n            <label>\r\n                Name: <span class=\"mandatory\">*</span>\r\n                <input id=\"name\" type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea id=\"description\" id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <p class=\"error\"></p>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"create\" value=\"Create\">\r\n            <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"cancel\" value=\"Cancel\">\r\n            <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n        `;\r\n    }\r\n    _changeNote() {\r\n        return String.raw `\r\n            <label>\r\n                Name: <span class=\"mandatory\">*</span>\r\n                <input id=\"name\" type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea id=\"description\" id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <p class=\"error\"></p>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"safeChanges\" value=\"Safe changes\">\r\n            <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"cancel\" value=\"Cancel\">\r\n            <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n        `;\r\n    }\r\n    _existingNote() {\r\n        return String.raw `\r\n            <label>\r\n                Name:\r\n                <input id=\"name\" readonly type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea readonly id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <div>\r\n                <input class=\"submitForm\" type=\"submit\" name=\"change\" value=\"Change\">\r\n                <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n                <input class=\"submitForm\" type=\"submit\" name=\"delete\" value=\"Delete\">\r\n            </div>\r\n        `;\r\n    }\r\n}\r\nexport { DiaryNoteView };\r\n","import { DiaryNote } from \"../model/diaryNote\";\r\nimport { DiaryNoteView } from \"../view/diaryNotebook\";\r\nclass DiaryNotebook {\r\n    constructor(app, calendar) {\r\n        this._app = app;\r\n        this._view = new DiaryNoteView();\r\n        this._calendar = calendar;\r\n    }\r\n    init(user) {\r\n        this._view.init();\r\n        this.update(user);\r\n        return true;\r\n    }\r\n    update(user) {\r\n        let selectedDay = this._calendar.getSelectedDay();\r\n        if (selectedDay == -1) {\r\n            this._view.clearNote();\r\n        }\r\n        else {\r\n            let note = this._findNote(user);\r\n            if (note == null) {\r\n                this._view.noneNote();\r\n            }\r\n            else {\r\n                this._view.existingNote(note.name, note.description);\r\n            }\r\n        }\r\n        let date = this._calendar.getDate().makeCopy();\r\n        this._calendar.noteDays = user.diaryNotes\r\n            .filter(note => note.date.month == date.month)\r\n            .map(note => note.date.day);\r\n        if (this._calendar.noteDays == undefined) {\r\n            this._calendar.noteDays = [];\r\n        }\r\n        this._calendar.update();\r\n    }\r\n    submitForm(submitter, user) {\r\n        let selectedDay = this._calendar.getSelectedDay();\r\n        if (selectedDay == -1) {\r\n            this.update(user);\r\n            return;\r\n        }\r\n        if (submitter.name == \"createNote\") {\r\n            this._view.createNote();\r\n        }\r\n        else if (submitter.name == \"create\" || submitter.name == \"safeChanges\") {\r\n            let date = this._calendar.getDate().makeCopy();\r\n            let name = this._view.getNameInput();\r\n            let description = this._view.getDescriptionInput();\r\n            this._view.clearErrors();\r\n            let isIncorrect = DiaryNote.isNameIncorrect(name);\r\n            if (isIncorrect) {\r\n                this._view.setNameError(isIncorrect);\r\n                return;\r\n            }\r\n            isIncorrect = DiaryNote.isDescriptionIncorrect(description);\r\n            if (isIncorrect) {\r\n                this._view.setDescriptionError(isIncorrect);\r\n                return;\r\n            }\r\n            let note = DiaryNote.createDiaryNote(date.makeCopy(), name, description);\r\n            let diaryNotes = user.diaryNotes;\r\n            let index = diaryNotes.findIndex((diaryNote) => date.compare(diaryNote.date));\r\n            if (index < 0) {\r\n                diaryNotes.push(note);\r\n            }\r\n            else {\r\n                diaryNotes[index] = note;\r\n            }\r\n            this._app.getUsers().save();\r\n            this.update(user);\r\n        }\r\n        else if (submitter.name == \"change\") {\r\n            let note = this._findNote(user);\r\n            if (note != null) {\r\n                this._view.changeNote(note.name, note.description);\r\n            }\r\n        }\r\n        else if (submitter.name == \"delete\") {\r\n            let date = this._calendar.getDate().makeCopy();\r\n            let diaryNotes = user.diaryNotes;\r\n            user.diaryNotes = diaryNotes.filter((diaryNote) => !diaryNote.date.compare(date));\r\n            this._app.getUsers().save();\r\n            this.update(user);\r\n        }\r\n        else {\r\n            this.update(user);\r\n        }\r\n    }\r\n    _findNote(user) {\r\n        return user.diaryNotes.find((diaryNote) => this._calendar.getDate().compare(diaryNote.date));\r\n    }\r\n}\r\nexport { DiaryNotebook };\r\n","import { LoggedIn } from \"./loggedIn\";\r\nimport { DiaryView } from \"../view/diary\";\r\nimport { Calendar } from \"./calendar\";\r\nimport { DiaryNotebook } from \"./diaryNotebook\";\r\nclass Diary extends LoggedIn {\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new DiaryView();\r\n        this._calendar = new Calendar(app);\r\n        this._diaryNote = new DiaryNotebook(app, this._calendar);\r\n    }\r\n    init() {\r\n        let progress = super.init();\r\n        if (progress) {\r\n            this._view.init();\r\n            this._calendar.init();\r\n            this._diaryNote.init(this._user);\r\n            let form = this._view.getForm();\r\n            form.addEventListener(\"submit\", (e) => { e.preventDefault(); this._submitForm(e.submitter); });\r\n        }\r\n        return progress;\r\n    }\r\n    _submitForm(submitter) {\r\n        this._calendar.submitForm(submitter);\r\n        this._diaryNote.submitForm(submitter, this._user);\r\n    }\r\n}\r\nexport { Diary };\r\n","import { LoggedIn } from \"./loggedIn\";\r\nclass Logout extends LoggedIn {\r\n    constructor(app) {\r\n        super(app);\r\n    }\r\n    init() {\r\n        let progress = super.init();\r\n        if (progress) {\r\n            this._app.user = null;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexport { Logout };\r\n","class ChangeStyleView {\r\n    constructor() {\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._changeStyleFormEl = null;\r\n        this._headline = \"Change style\";\r\n    }\r\n    init(style) {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._mainEl.innerHTML = this._changeStyleForm(style);\r\n        this._changeStyleFormEl = document.querySelector(\"form\");\r\n    }\r\n    getForm() {\r\n        return this._changeStyleFormEl;\r\n    }\r\n    _changeStyleForm(style) {\r\n        return String.raw `\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Styles: <span class=\"mandatory\">*</span>\r\n                </label>\r\n                <label>\r\n                    <input class=\"radioBut\" required type=\"radio\" name=\"style\" value=\"blue\" ${style == \"blue\" ? \"checked\" : \"\"}>\r\n                    Blue style\r\n                </label>\r\n                <label>\r\n                    <input class=\"radioBut\" type=\"radio\" name=\"style\" value=\"green\" ${style == \"green\" ? \"checked\" : \"\"}>\r\n                    Green style\r\n                </label>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Change\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\nexport { ChangeStyleView };\r\n","import { LoggedIn } from \"./loggedIn\";\r\nimport { ChangeStyleView } from \"../view/changeStyle\";\r\nimport { setStyle } from \"../view/style\";\r\nclass ChangeStyle extends LoggedIn {\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new ChangeStyleView();\r\n    }\r\n    init() {\r\n        let progress = super.init();\r\n        if (progress) {\r\n            this._view.init(this._user.style);\r\n            this._view.getForm().addEventListener(\"submit\", (e) => { e.preventDefault(); this._submitForm(); });\r\n        }\r\n        return progress;\r\n    }\r\n    _submitForm() {\r\n        let form = this._view.getForm();\r\n        let formData = new FormData(form);\r\n        this._user.style = ((rawStyle) => {\r\n            if (rawStyle != null) {\r\n                let rawStyleString = rawStyle.toString();\r\n                if (rawStyleString == \"blue\" || rawStyleString == \"green\") {\r\n                    return rawStyleString;\r\n                }\r\n            }\r\n            return \"blue\";\r\n        })(formData.get(\"style\"));\r\n        this._app.getUsers().save();\r\n        setStyle(this._user.style);\r\n    }\r\n}\r\nexport { ChangeStyle };\r\n","import { StorageObject } from \"../control/storageObject\";\r\nclass Note extends StorageObject // TODO: change visibility and mutability of attributes\r\n {\r\n    constructor() {\r\n        super(\"Note\");\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n    }\r\n    static createNote(name, description) {\r\n        let note = new Note();\r\n        note.name = name;\r\n        note.description = description;\r\n        return note;\r\n    }\r\n    static isNameIncorrect(name) {\r\n        if (name.length > 100)\r\n            return \"The name is too long.\";\r\n        if (name.length < 1)\r\n            return \"The name must be at least one character.\";\r\n        return \"\";\r\n    }\r\n    static isDescriptionIncorrect(description) {\r\n        if (description.length > 20000)\r\n            return \"The description is too long.\";\r\n        return \"\";\r\n    }\r\n}\r\nexport { Note };\r\n","import { App } from \"./control/app\";\r\nlet app = new App();\r\n","import { Router } from \"./router\";\r\nimport { AppStorage } from \"./appStorage\";\r\nimport { Main } from \"./main\";\r\nimport { Login } from \"./login\";\r\nimport { Register } from \"./register\";\r\nimport { Diary } from \"./diary\";\r\nimport { Logout } from \"./logout\";\r\nimport { ChangeStyle } from \"./changeStyle\";\r\nimport { User } from \"../model/user\";\r\nimport { CustomDate } from \"../model/date\";\r\nimport { Note } from \"../model/note\";\r\nimport { DiaryNote } from \"../model/diaryNote\";\r\nclass App {\r\n    constructor() {\r\n        let routes = {\r\n            main: new Main(this),\r\n            login: new Login(this),\r\n            register: new Register(this),\r\n            diary: new Diary(this),\r\n            /*notebook: new Notebook(this),*/\r\n            logout: new Logout(this),\r\n            changeStyle: new ChangeStyle(this)\r\n        };\r\n        let defaultRoute = {\r\n            name: \"main\",\r\n            control: routes.main\r\n        };\r\n        this.router = new Router(routes, defaultRoute);\r\n        this.router.route();\r\n        this._users = new AppStorage(\"diary-js-users\", [User, CustomDate, Note, DiaryNote]);\r\n        this._users.load();\r\n        this.user = null;\r\n    }\r\n    getUsers() {\r\n        return this._users;\r\n    }\r\n}\r\nexport { App };\r\n"],"names":["Router","constructor","routes","defaultRoute","window","addEventListener","e","this","route","_routes","_defaultRoute","_actualRoute","getActualRoute","routeFound","hash","location","routeName","routeControl","Object","entries","init","routeDefault","routeTo","newRoute","console","log","name","control","AppStorage","storedClasses","data","forEach","storedClass","getStorageClassName","getData","load","rawData","localStorage","getItem","save","JSON","parse","key","value","newObject","_storageClassName","assign","setItem","stringify","Controller","app","_app","LoggedOutView","_navEl","document","querySelector","_userEl","getElementById","_user","selectedPage","innerHTML","_nav","String","raw","styles","blue","headerFooter","mainBg","text","mandatory","dark","note","noteBgHover","tableSelected","tableSelectedHover","tableButtonBg","error","green","setStyle","styleName","root","documentElement","style","setProperty","LoggedOut","super","_loggedOutView","router","StorageObject","storageClassName","monthNames","dayNamesShots","CustomDate","day","month","year","date","Date","createDate","getDate","getMonth","getFullYear","getMonthName","getDayInWeekName","Intl","DateTimeFormat","weekday","format","toDate","toString","getDayInWeekShortName","getDayInWeek","getDay","getDaysInMonth","incrementMonth","dencrementMonth","compare","makeCopy","projectInfo","MainView","_headlineEl","_mainEl","_footerEl","_formEl","_headline","authorName","packageInfo","author","buildYear","buildDate","buildVersion","version","_footer","getForm","title","_basicCalendar","createCurrentDate","CalendarView","_calendarWrapperEl","_calendarBodyEl","selectedDay","noteDays","_calendar","_calendarBody","selectCell","dayIndex","cell","classList","add","deselectCell","remove","join","getDayShorts","map","cells","_calendarCells","row","firstDayInMonth","dayInWeek","currentDate","daysInMonth","j","i","length","push","_otherMonthCell","isSelected","_cell","includes","cellClass","arr","reduce","a","b","Calendar","_view","_selectedDay","_date","update","getSelectedDay","submitForm","submitter","parseInt","Main","progress","preventDefault","LoginView","_loginFormEl","_emailInputEl","_passwordInputEl","_errorEl","_loginForm","getEmailInput","getPasswordInput","clearErrors","textContent","setError","message","Login","_submitForm","email","password","user","_findUser","doesPasswordMatch","then","matches","users","getUsers","foundUser","RegisterView","_registerFormEl","_password1InputEl","_password2InputEl","_registerForm","getPassword1Input","getPassword2Input","setEmailError","setPassword1Error","setPassword2Error","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","apply","User","passwordHash","notes","diaryNotes","createHash","indexOf","msgUint8","TextEncoder","encode","hashBuffer","crypto","subtle","digest","Array","from","Uint8Array","padStart","Register","_validateEmail","_validatePassword1","_validatePassword2","createWithPassword","isIncorrect","isEmailIncorrect","_isRegistered","password1","isPasswordIncorrect","isRegistered","LoggedInView","_emailEl","userEmail","LoggedIn","_loggedInView","DiaryView","_diary","DiaryNote","description","DiaryNoteView","_diaryNoteWrapperEl","_nameEl","_descriptionEl","clearNote","noneNote","_noneNote","createNote","_createNote","_initFormData","changeNote","_changeNote","existingNote","_existingNote","getNameInput","getDescriptionInput","setNameError","setDescriptionError","DiaryNotebook","calendar","_findNote","filter","undefined","isNameIncorrect","isDescriptionIncorrect","createDiaryNote","index","findIndex","diaryNote","find","Diary","_diaryNote","Logout","ChangeStyleView","_changeStyleFormEl","_changeStyleForm","ChangeStyle","form","formData","FormData","rawStyle","rawStyleString","get","Note","main","login","register","diary","logout","changeStyle","_users"],"sourceRoot":""}