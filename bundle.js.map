{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://diary-js/./src/ts/control/router.js","webpack://diary-js/./src/ts/control/appStorage.js","webpack://diary-js/./src/ts/control/controller.js","webpack://diary-js/./src/ts/view/loggedOut.js","webpack://diary-js/./src/ts/view/style.js","webpack://diary-js/./src/ts/control/loggedOut.js","webpack://diary-js/./src/ts/control/storageObject.js","webpack://diary-js/./src/ts/model/date.js","webpack://diary-js/./src/ts/gen/projectInfo.js","webpack://diary-js/./src/ts/view/main.js","webpack://diary-js/./src/ts/view/calendar.js","webpack://diary-js/./src/ts/control/calendar.js","webpack://diary-js/./src/ts/control/main.js","webpack://diary-js/./src/ts/view/login.js","webpack://diary-js/./src/ts/control/login.js","webpack://diary-js/./src/ts/view/register.js","webpack://diary-js/./src/ts/model/user.js","webpack://diary-js/./src/ts/control/register.js","webpack://diary-js/./src/ts/view/loggedIn.js","webpack://diary-js/./src/ts/control/loggedIn.js","webpack://diary-js/./src/ts/view/diary.js","webpack://diary-js/./src/ts/model/diaryNote.js","webpack://diary-js/./src/ts/view/diaryNotebook.js","webpack://diary-js/./src/ts/control/diaryNotebook.js","webpack://diary-js/./src/ts/control/diary.js","webpack://diary-js/./src/ts/control/logout.js","webpack://diary-js/./src/ts/view/changeStyle.js","webpack://diary-js/./src/ts/control/changeStyle.js","webpack://diary-js/./src/ts/model/note.js","webpack://diary-js/./src/ts/index.ts","webpack://diary-js/./src/ts/control/app.ts"],"sourcesContent":["\r\nclass Router\r\n{\r\n    constructor(routes, defaultRoute) {\r\n        window.addEventListener('popstate', e => this.route());\r\n        this._routes = routes;\r\n        this._defaultRoute = defaultRoute;\r\n        this._actualRoute = \"\";\r\n    }\r\n\r\n    getActualRoute() {\r\n        return this._actualRoute;\r\n    }\r\n\r\n    route() {\r\n        let routeFound = false;\r\n        const hash = window.location.hash;\r\n        for (const [routeName, routeControl] of Object.entries(this._routes)) {\r\n            if(\"#\" + routeName == hash) {\r\n                this._actualRoute = routeName;\r\n                if(routeControl.init()) {\r\n                    routeFound = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if(!routeFound) {\r\n            this.routeDefault();\r\n        }\r\n    }\r\n\r\n    routeTo(newRoute) {\r\n        let routeFound = false;\r\n        for (const [routeName, routeControl] of Object.entries(this._routes)) {\r\n            if(routeName == newRoute) {\r\n                routeFound = true;\r\n            }\r\n        }\r\n        if(!routeFound) {\r\n            console.log(\"route %s does not exist\", newRoute);\r\n            return;\r\n        }\r\n        this._actualRoute = newRoute;\r\n        window.location.hash = \"#\" + newRoute;\r\n        this._routes[newRoute].init();\r\n    }\r\n\r\n    routeDefault() {\r\n        this._actualRoute = this._defaultRoute.name;\r\n        window.location.hash = \"#\" + this._defaultRoute.name;\r\n        this._defaultRoute.control.init();\r\n    }\r\n}\r\n\r\nexport { Router };","\r\nclass AppStorage\r\n{\r\n    constructor(name, storedClasses) {\r\n        this.name = name;\r\n        this.storedClasses = {};\r\n        this.data = [];\r\n        storedClasses.forEach(storedClass => {\r\n            this.storedClasses[storedClass.name] = storedClass;\r\n        });\r\n    }\r\n\r\n    getData() {\r\n        return this.data;\r\n    }\r\n\r\n    load() {\r\n        let rawData = window.localStorage.getItem(this.name);\r\n        if(rawData == null) {\r\n            this.save();\r\n        } else {\r\n            this.data = JSON.parse(rawData, (key, value) => {\r\n                if(typeof value === 'object' && \"_class\" in value) {\r\n                    let newObject = new this.storedClasses[value._class]();\r\n                    return Object.assign(newObject, value);\r\n                }\r\n                else {\r\n                    return value;\r\n                }\r\n           });\r\n        }\r\n    }\r\n\r\n    save() {\r\n        window.localStorage.setItem(this.name, JSON.stringify(this.data));\r\n    }\r\n}\r\n\r\nexport { AppStorage };","\r\nclass Controller\r\n{\r\n    constructor(app) {\r\n        this._app = app;\r\n    }\r\n\r\n    init() {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { Controller };","\r\nclass LoggedOutView\r\n{\r\n    constructor(){\r\n        this._navEl = document.querySelector(\"header nav\");\r\n        this._userEl = document.getElementById(\"user\");\r\n\r\n        this._user = \"\";\r\n    }\r\n\r\n    init(selectedPage) {\r\n        this._navEl.innerHTML = this._nav(selectedPage);\r\n        this._userEl.innerHTML = this._user;\r\n    }\r\n\r\n    _nav (selectedPage) {\r\n        return String.raw`\r\n            <ul>\r\n                <li>\r\n                    <a href=\"#main\" ${selectedPage == \"main\" ? 'id=\"pageSelected\"' : \"\"}>Main page</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#login\" ${selectedPage == \"login\" ? 'id=\"pageSelected\"' : \"\"}>Login</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#register\" ${selectedPage == \"register\" ? 'id=\"pageSelected\"' : \"\"}>Register</a>\r\n                </li>\r\n            </ul>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { LoggedOutView };","\r\nlet styles = {\r\n    blue: {\r\n        headerFooter: \"#12146b\",\r\n        mainBg: \"#191c94\",\r\n        text: \"white\",\r\n        mandatory: \"#ff4e00\",\r\n        dark: \"#070f3d\",\r\n        note: \"#070f3d\",\r\n        noteBgHover: \"#00a0d5\",\r\n        tableSelected: \"#1b62c2\",\r\n        tableSelectedHover: \"#14478c\",\r\n        tableButtonBg: \"#00a0d5\",\r\n        error: \"#ff4e00\"\r\n    },\r\n    green: {\r\n        headerFooter: \"#239311\",\r\n        mainBg: \"#30cf16\",\r\n        text: \"black\",\r\n        mandatory: \"#bd0000\",\r\n        dark: \"#0f3d07\",\r\n        note: \"#053007\",\r\n        noteBgHover: \"#46ee4e\",\r\n        tableSelected: \"#108d16\",\r\n        tableSelectedHover: \"#0b5b0e\",\r\n        tableButtonBg: \"#46ee4e\",\r\n        error: \"#bd0000\"\r\n    }\r\n};\r\n\r\nfunction setStyle(styleName) {\r\n    let root = document.documentElement;\r\n    let style = styles[styleName];\r\n    root.style.setProperty(\"--header-footer-color\", style.headerFooter);\r\n    root.style.setProperty(\"--main-bg-color\", style.mainBg);\r\n    root.style.setProperty(\"--text-color\", style.text);\r\n    root.style.setProperty(\"--mandatory-color\", style.mandatory);\r\n    root.style.setProperty(\"--dark-color\", style.dark);\r\n    root.style.setProperty(\"--note-color\", style.note);\r\n    root.style.setProperty(\"--note-bg-color-hover\", style.noteBgHover);\r\n    root.style.setProperty(\"--table-selected-color\", style.tableSelected);\r\n    root.style.setProperty(\"--table-selected-hover-color\", style.tableSelectedHover);\r\n    root.style.setProperty(\"--table-button-bg-color\", style.tableButtonBg);\r\n    root.style.setProperty(\"--error-color\", style.error);\r\n}\r\n\r\nexport { setStyle };","import { Controller } from \"./controller.js\";\r\nimport { LoggedOutView } from \"../view/loggedOut.js\";\r\nimport { setStyle } from \"../view/style.js\";\r\n\r\nclass LoggedOut extends Controller\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._loggedOutView = new LoggedOutView();\r\n    }\r\n\r\n    init() {\r\n        setStyle(\"blue\");\r\n        this._loggedOutView.init(this._app.router.getActualRoute());\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { LoggedOut };","\r\nclass StorageObject\r\n{\r\n    constructor() {\r\n        this._class = this.__proto__.constructor.name;\r\n    }\r\n}\r\n\r\nexport { StorageObject };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nlet monthNames =\r\n[\r\n    \"January\",\r\n    \"Febuary\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\"\r\n];\r\n\r\nlet dayNames = [\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Fiday\",\r\n    \"Saturday\",\r\n    \"Sunday\"\r\n];\r\n\r\nlet dayNamesShots = [\r\n    \"Mo\",\r\n    \"Tu\",\r\n    \"We\",\r\n    \"Th\",\r\n    \"Fr\",\r\n    \"Sa\",\r\n    \"Su\"\r\n];\r\n\r\nclass CustomDate extends StorageObject\r\n{\r\n    constructor() {\r\n        super();\r\n        this.day = 1;\r\n        this.month = 1;\r\n        this.year = 1;\r\n    }\r\n\r\n    static createDate(day, month, year) {\r\n        let date = new CustomDate();\r\n        date.day = day;\r\n        date.month = month;\r\n        date.year = year;\r\n        return date;\r\n    }\r\n\r\n    static createCurrentDate() {\r\n        let date = new Date();\r\n        return this.createDate(date.getDate(), date.getMonth(), date.getFullYear());\r\n    }\r\n\r\n    static getDayShorts() {\r\n        return dayNamesShots;\r\n    }\r\n\r\n    getMonthName() {\r\n        return monthNames[this.month];\r\n    }\r\n\r\n    getDayInWeekName() {\r\n        return dayNames[this.getDayInWeek()];\r\n    }\r\n\r\n    getDayInWeekShortName() {\r\n        return dayNamesShots[this.getDayInWeek()];\r\n    }\r\n\r\n    getDayInWeek() {\r\n        let date = new Date(this.year, this.month, this.day);\r\n        return date.getDay();\r\n    }\r\n\r\n    getDaysInMonth() {\r\n        let date = new Date();\r\n        let month = date.getMonth() + 1;\r\n        let year = date.getFullYear();\r\n        return new Date(year, month, 0).getDate();\r\n    }\r\n\r\n    incrementMonth() {\r\n        let date = new Date(this.year, this.month + 1, 1);\r\n        this.year = date.getFullYear();\r\n        this.month = date.getMonth();\r\n        this.day = date.getDate();\r\n    }\r\n\r\n    dencrementMonth() {\r\n        let date = new Date(this.year, this.month - 1, 1);\r\n        this.year = date.getFullYear();\r\n        this.month = date.getMonth();\r\n        this.day = date.getDate();\r\n    }\r\n\r\n    toString() {\r\n        return dayNames[this.getDayInWeek()]+\" \"+String(this.day)+\". \"+monthNames[this.month]+\" \"+String(this.year);\r\n    }\r\n\r\n    compare(date) {\r\n        return this.day == date.day && this.month == date.month && this.year == date.year;\r\n    }\r\n\r\n    makeCopy() {\r\n        return CustomDate.createDate(this.day, this.month, this.year);\r\n    }\r\n}\r\n\r\nexport { CustomDate };","\n// WARNING: Don't make changes to this file. It will be generated automatically with each build.\nconst projectInfo = {\n\"buildDate\": new Date(2021, 8, 19),\n\"packageInfo\": {\n  \"name\": \"diary-js\",\n  \"homepage\": \"http://shetr.github.io/diary-js\",\n  \"version\": \"1.1.0\",\n  \"description\": \"Reworked version of zwa-diary-js.\",\n  \"main\": \"src/ts/index.ts\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"gen\": \"node scripts/gen-project-info.js src/ts/gen/projectInfo.js\",\n    \"css:scss\": \"node-sass --output-style compressed -o dist src/scss\",\n    \"css:autoprefixer\": \"postcss -u autoprefixer -r dist/*.css\",\n    \"css:lint\": \"stylelint src/scss/*.scss --syntax scss || true\",\n    \"build:css\": \"npm run css:lint && npm run css:scss && npm run css:autoprefixer\",\n    \"build:js\": \"npm run gen && webpack --mode=production\",\n    \"build:html\": \"posthtml -c posthtml.json\",\n    \"watch:css\": \"onchange \\\"src/scss\\\" -- npm run build:css\",\n    \"watch:js\": \"onchange \\\"src/js\\\" -- webpack --mode=development\",\n    \"watch:html\": \"onchange \\\"src/views\\\" -- npm run build:html\",\n    \"serve\": \"browser-sync start --server \\\"dist\\\" --files \\\"dist\\\"\",\n    \"watch\": \"run-p serve watch:*\",\n    \"build\": \"run-p build:*\",\n    \"deploy\": \"gh-pages -d dist\",\n    \"build-deploy\": \"npm run build && npm run deploy\"\n  },\n  \"keywords\": [],\n  \"author\": {\n    \"name\": \"Petr Šádek\",\n    \"email\": \"shetr.git@gmail.com\"\n  },\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"autoprefixer\": \"^10.3.4\",\n    \"browser-sync\": \"^2.27.5\",\n    \"gh-pages\": \"^3.2.3\",\n    \"htmlnano\": \"^1.0.1\",\n    \"node-sass\": \"^6.0.1\",\n    \"npm-run-all\": \"^4.1.5\",\n    \"onchange\": \"^7.1.0\",\n    \"postcss\": \"^8.3.6\",\n    \"postcss-cli\": \"^8.3.1\",\n    \"posthtml\": \"^0.16.5\",\n    \"posthtml-cli\": \"^0.10.0\",\n    \"posthtml-modules\": \"^0.7.4\",\n    \"stylelint\": \"^13.13.1\",\n    \"ts-loader\": \"^9.2.5\",\n    \"typescript\": \"^4.4.3\",\n    \"webpack\": \"^5.53.0\",\n    \"webpack-cli\": \"^4.8.0\"\n  },\n  \"dependencies\": {\n    \"source-map-loader\": \"^3.0.0\"\n  }\n}\n\n};\nexport { projectInfo };\n        ","import { CustomDate } from \"../model/date.js\";\r\nimport { projectInfo } from \"../gen/projectInfo\";\r\n\r\nclass MainView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n        this._footerEl = document.querySelector(\"footer\");\r\n\r\n        this._formEl = null;\r\n\r\n        this._headline = \"Diary\";\r\n        let authorName = projectInfo.packageInfo.author.name;\r\n        let buildYear = projectInfo.buildDate.getFullYear();\r\n        let buildVersion = projectInfo.packageInfo.version;\r\n        this._footer = `${buildYear}&nbsp;&nbsp;&nbsp;${authorName}&nbsp;&nbsp;&nbsp;v${buildVersion}`;\r\n    }\r\n\r\n    getForm() {\r\n        return this._formEl;\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        this._footerEl.innerHTML = this._footer;\r\n        \r\n        this._mainEl.innerHTML = this._basicCalendar();\r\n\r\n        this._formEl = document.querySelector(\"form\");\r\n    }\r\n\r\n    _basicCalendar() {\r\n        let date = CustomDate.createCurrentDate();\r\n        return String.raw`\r\n            <div id=\"currentDate\">Today is ${date.toString()}</div>\r\n            <form method=\"post\" action=\"\">\r\n                <div id=\"calendar\"></div>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { MainView };","import { CustomDate } from \"../model/date.js\";\r\n\r\nclass CalendarView\r\n{\r\n    constructor(){\r\n        this._calendarWrapperEl = null;\r\n        this._calendarBodyEl = null;\r\n    }\r\n\r\n    init(date, selectedDay, noteDays) {\r\n\r\n        this._calendarWrapperEl = document.getElementById(\"calendar\");\r\n        this._calendarWrapperEl.innerHTML = this._calendar(date);\r\n\r\n        this._calendarBodyEl = document.querySelector(\"tbody\");\r\n        this._calendarBodyEl.innerHTML = this._calendarBody(date, selectedDay, noteDays);\r\n    }\r\n\r\n    selectCell(dayIndex) {\r\n        let cell = document.getElementById(\"day\"+String(dayIndex));\r\n        if(cell != null) {\r\n            cell.classList.add(\"selectedTab\");\r\n        }\r\n    }\r\n\r\n    deselectCell(dayIndex) {\r\n        let cell = document.getElementById(\"day\"+String(dayIndex));\r\n        if(cell != null) {\r\n            cell.classList.remove(\"selectedTab\");\r\n        }\r\n    }\r\n\r\n    _calendar(date) {\r\n        return String.raw`\r\n            <table>\r\n                <thead>\r\n                <tr> \r\n                    <td colspan=\"5\">\r\n                        <div class=\"buttonTab\">\r\n                            ${date.getMonthName()} ${date.year}\r\n                        </div>\r\n                    </td> \r\n                    <td>\r\n                        <input class=\"buttonTab\" type=\"submit\" name=\"changeMonthLeft\" value=\"<\">\r\n                    </td> \r\n                    <td>\r\n                        <input class=\"buttonTab\" type=\"submit\" name=\"changeMonthRight\" value=\">\">\r\n                    </td> \r\n                </tr>\r\n                <tr>\r\n                    ${join(CustomDate.getDayShorts().map((day) => String.raw`\r\n                        <td>\r\n                            <div>\r\n                                ${day}\r\n                            </div>\r\n                        </td>\r\n                    `))}\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                </tbody>\r\n            </table>\r\n        `;\r\n    }\r\n\r\n    _calendarBody(date, selectedDay, noteDays) {\r\n        let cells = this._calendarCells(date, selectedDay, noteDays);\r\n        return String.raw`\r\n            ${join(cells.map((row) => String.raw`\r\n\t            <tr>\r\n                    ${join(row)}\r\n                </tr>\r\n            `))}\r\n        `;\r\n    }\r\n\r\n    _calendarCells(date, selectedDay, noteDays) {\r\n        let firstDayInMonth = CustomDate.createDate(1, date.month, date.year);\r\n        let dayInWeek = firstDayInMonth.getDayInWeek();\r\n        \r\n        let currentDate = CustomDate.createCurrentDate(); \r\n        \r\n        let cells = [];\r\n        \r\n        let daysInMonth = firstDayInMonth.getDaysInMonth();\r\n        let j = 2 - dayInWeek;\r\n        while(daysInMonth > 0)\r\n        {\r\n            let row = [];\r\n            for(let i = 0; i < CustomDate.getDayShorts().length; i++)\r\n            {\r\n                if(j < 1 || daysInMonth <= 0)\r\n                {\r\n                    row.push(this._otherMonthCell());\r\n                }\r\n                else\r\n                {\r\n                    let isSelected = false;\r\n                    if(selectedDay == j) {\r\n                        isSelected = true;\r\n                    }\r\n                    if(j == currentDate.day && date.month == currentDate.month && date.year == currentDate.year) {\r\n                        row.push(this._cell(isSelected, \"todayTab\", j));\r\n                    }\r\n                    else if(noteDays.includes(j)) {\r\n                        row.push(this._cell(isSelected, \"noteTab\", j));\r\n                    }\r\n                    else {\r\n                        row.push(this._cell(isSelected, \"activeCellTab\", j));\r\n                    }\r\n                    daysInMonth--;\r\n                }\r\n                j++;\r\n            }\r\n            cells.push(row);\r\n        }\r\n        return cells;\r\n    }\r\n\r\n    _cell(isSelected, cellClass, dayIndex) {\r\n        return String.raw`\r\n            <td id=\"day${dayIndex}\" ${isSelected ? 'class =\"selectedTab\"' : \"\"}>\r\n                    <input class=\"${cellClass}\" type=\"submit\" name=\"selectDay\" value=\"${dayIndex}\">\r\n            </td>\r\n        `;\r\n    }\r\n\r\n    _otherMonthCell() {\r\n        return String.raw`\r\n            <td>\r\n                <div class=\"deactivatedCellTab\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 10 10\">\r\n                        <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"10\"/>\r\n                        <line x1=\"0\" y1=\"10\" x2=\"10\" y2=\"0\"/>\r\n                    </svg>\r\n                </div>\r\n            </td>\r\n        `;\r\n    }\r\n}\r\n\r\nfunction join(arr) {\r\n    return arr.reduce((a, b) => a+b, \"\");\r\n}\r\n\r\nexport { CalendarView };","import { Controller } from \"./controller.js\";\r\nimport { CalendarView } from \"../view/calendar.js\";\r\nimport { CustomDate } from \"../model/date.js\";\r\n\r\nclass Calendar extends Controller\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new CalendarView();\r\n        this._selectedDay = -1;\r\n        this._date = null;\r\n        this.noteDays = [];\r\n    }\r\n\r\n    init() {\r\n        this._selectedDay = -1;\r\n        this._date = CustomDate.createCurrentDate();\r\n        this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        return true;\r\n    }\r\n\r\n    update() {\r\n        this._view.init(this._date, this._selectedDay, this.noteDays);\r\n    }\r\n\r\n    getSelectedDay() {\r\n        return this._selectedDay;\r\n    }\r\n\r\n    getDate() {\r\n        return this._date;\r\n    }\r\n\r\n    submitForm(submitter) {\r\n        if(submitter.name == \"selectDay\") {\r\n            let selectedDay = parseInt(submitter.value);\r\n            this._view.deselectCell(this._selectedDay);\r\n            this._view.selectCell(selectedDay);\r\n            this._selectedDay = selectedDay;\r\n            this._date.day = selectedDay;\r\n        } else if(submitter.name == \"changeMonthLeft\") {\r\n            this._selectedDay = -1;\r\n            this._date.dencrementMonth();\r\n            this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        } else if(submitter.name == \"changeMonthRight\") {\r\n            this._selectedDay = -1;\r\n            this._date.incrementMonth();\r\n            this._view.init(this._date, this._selectedDay, this.noteDays);\r\n        }\r\n    }\r\n}\r\n\r\nexport { Calendar };","import { LoggedOut } from \"./loggedOut.js\";\r\nimport { MainView } from \"../view/main.js\";\r\nimport { Calendar } from \"./calendar.js\";\r\n\r\nclass Main extends LoggedOut\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new MainView();\r\n        this._calendar = new Calendar(app);\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._calendar.init();\r\n            let form = this._view.getForm();\r\n            form.addEventListener(\"submit\", (e) => {e.preventDefault(); this._calendar.submitForm(e.submitter);});\r\n        }\r\n        return progress;\r\n    }\r\n}\r\n\r\nexport { Main };","\r\nclass LoginView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._loginFormEl = null;\r\n        this._emailInputEl = null;\r\n        this._passwordInputEl = null;\r\n        this._errorEl = null;\r\n\r\n        this._headline = \"Login\";\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._loginForm();\r\n\r\n        this._loginFormEl = document.querySelector(\"form\");\r\n        this._emailInputEl = document.getElementById(\"email\");\r\n        this._passwordInputEl = document.getElementById(\"password\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n    }\r\n\r\n    getForm() {\r\n        return this._loginFormEl;\r\n    }\r\n    getEmailInput() {\r\n        return this._emailInputEl;\r\n    }\r\n    getPasswordInput() {\r\n        return this._passwordInputEl;\r\n    }\r\n\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n    }\r\n    setError(message) {\r\n        this._errorEl.textContent = message;\r\n    }\r\n\r\n    _loginForm() {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Email: <span class=\"mandatory\">*</span>\r\n                    <input id=\"email\" required type=\"email\" name=\"email\"/>\r\n                </label>\r\n                <label>\r\n                    Password: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password\" required type=\"password\" name=\"password\" />\r\n                </label>\r\n                <p class=\"error\"></p>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Login\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { LoginView };","import { LoginView } from \"../view/login.js\";\r\nimport { LoggedOut } from \"./loggedOut.js\";\r\n\r\nclass Login extends LoggedOut\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new LoginView();\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._view.getForm().addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm();});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm() {\r\n        let email = this._view.getEmailInput().value;\r\n        let password = this._view.getPasswordInput().value;\r\n        let user = this._findUser(email);\r\n        if(user == null) {\r\n            this._view.setError(\"Incorrect email or password.\");\r\n            return;\r\n        }\r\n        user.doesPasswordMatch(password).then((matches) => {\r\n            if(!matches) {\r\n                this._view.setError(\"Incorrect email or password.\");\r\n                return;\r\n            }\r\n            this._app.user = user;\r\n            this._app.router.routeTo(\"diary\");\r\n        });\r\n    }\r\n\r\n    _findUser(email) {\r\n        let users = this._app.getUsers().getData();\r\n        let foundUser = null;\r\n        users.forEach((user) => {\r\n            if(user.email == email) {\r\n                foundUser = user;\r\n            }\r\n        });\r\n        return foundUser;\r\n    }\r\n}\r\n\r\nexport { Login };","\r\nclass RegisterView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._registerFormEl = null;\r\n        this._emailInputEl = null;\r\n        this._password1InputEl = null;\r\n        this._password2InputEl = null;\r\n        this._errorEl = null;\r\n\r\n        this._headline = \"Register\";\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._registerForm();\r\n\r\n        this._registerFormEl = document.querySelector(\"form\");\r\n        this._emailInputEl = document.getElementById(\"email\");\r\n        this._password1InputEl = document.getElementById(\"password1\");\r\n        this._password2InputEl = document.getElementById(\"password2\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n    }\r\n\r\n    getForm() {\r\n        return this._registerFormEl;\r\n    }\r\n    getEmailInput() {\r\n        return this._emailInputEl;\r\n    }\r\n    getPassword1Input() {\r\n        return this._password1InputEl;\r\n    }\r\n    getPassword2Input() {\r\n        return this._password2InputEl;\r\n    }\r\n\r\n\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n        this._emailInputEl.classList.remove('error');\r\n        this._password1InputEl.classList.remove('error');\r\n        this._password2InputEl.classList.remove('error');\r\n    }\r\n    setEmailError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._emailInputEl.classList.add('error');\r\n    }\r\n    setPassword1Error(message) {\r\n        this._errorEl.textContent = message;\r\n        this._password1InputEl.classList.add('error');\r\n    }\r\n    setPassword2Error(message) {\r\n        this._errorEl.textContent = message;\r\n        this._password2InputEl.classList.add('error');\r\n    }\r\n\r\n    _registerForm() {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Email: <span class=\"mandatory\">*</span>\r\n                    <input id=\"email\" required type=\"email\" name=\"email\"/>\r\n                </label>\r\n                <label>\r\n                    Password: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password1\" required type=\"password\" name=\"password1\" />\r\n                </label>\r\n                <label>\r\n                    Password check: <span class=\"mandatory\">*</span>\r\n                    <input id=\"password2\" required type=\"password\" name=\"password2\" />\r\n                </label>\r\n                <p class=\"error\"></p>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Register\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { RegisterView };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nclass User extends StorageObject\r\n{\r\n    constructor() {\r\n        super();\r\n        this.email = \"\";\r\n        this.passwordHash = \"\";\r\n        this.notes = [];\r\n        this.diaryNotes = [];\r\n        this.style = \"blue\";\r\n    }\r\n\r\n    async doesPasswordMatch(password) {\r\n        let passwordHash = await createHash(password);\r\n        return this.passwordHash == passwordHash;\r\n    }\r\n\r\n    static async createWithPassword(email, password) {\r\n        let user = new User();\r\n        user.email = email;\r\n        user.passwordHash = await createHash(password); \r\n        return user;\r\n    }\r\n\r\n    static isEmailIncorrect(email) {\r\n        if(!(email.indexOf(\"@\") > -1 && email.indexOf(\".\") > -1))\r\n        {\r\n            return \"Missing @ or . in the email.\";\r\n        }\r\n        if(!(email.indexOf(\"@\") > 0 && email.indexOf(\".\") > email.indexOf(\"@\") + 1 && email.indexOf(\".\") < email.length - 1))\r\n        {\r\n            return \"Incorrect email.\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static isPasswordIncorrect(password) {\r\n        if(password.length <= 3)\r\n        {\r\n            return 'Password must be longer than 3 characters.';\r\n        }\r\n        return \"\";\r\n    }\r\n}\r\n    \r\nasync function createHash(password) {\r\n    // copied from mdn\r\n    const msgUint8 = new TextEncoder().encode(password);\r\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8).then();\r\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n    return hashHex;\r\n}\r\n\r\n\r\nexport { User };","import { LoggedOut } from \"./loggedOut.js\";\r\nimport { RegisterView } from \"../view/register.js\";\r\nimport { User } from \"../model/user.js\";\r\n\r\nclass Register extends LoggedOut\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new RegisterView();\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._view.getForm().addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm();});\r\n            this._view.getEmailInput().addEventListener(\"keyup\", (e) => {e.preventDefault(); this._validateEmail();});\r\n            this._view.getPassword1Input().addEventListener(\"blur\", (e) => {e.preventDefault(); this._validatePassword1();});\r\n            this._view.getPassword2Input().addEventListener(\"blur\", (e) => {e.preventDefault(); this._validatePassword2();});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm() {\r\n        let isValid =\r\n            this._validatePassword2() &&\r\n            this._validatePassword1() &&\r\n            this._validateEmail();\r\n        if(isValid) {\r\n            let email = this._view.getEmailInput().value;\r\n            let password = this._view.getPassword1Input().value;\r\n            let users = this._app.getUsers();\r\n            User.createWithPassword(email, password).then((user => {\r\n                users.getData().push(user);\r\n                users.save();\r\n                this._app.user = user;\r\n                this._app.router.routeTo(\"diary\");\r\n            }));\r\n        }\r\n    }\r\n\r\n    _validateEmail() {\r\n        this._view.clearErrors();\r\n        let email = this._view.getEmailInput().value;\r\n        let isIncorrect = User.isEmailIncorrect(email);\r\n        if(isIncorrect) {\r\n            this._view.setEmailError(isIncorrect);\r\n            return false;\r\n        }\r\n        if(this._isRegistered(email)){\r\n            this._view.setEmailError(\"Such a user already exists.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _validatePassword1() {\r\n        this._view.clearErrors();\r\n        let password1 = this._view.getPassword1Input().value;\r\n        let isIncorrect = User.isPasswordIncorrect(password1);\r\n        if(isIncorrect) {\r\n            this._view.setPassword1Error(isIncorrect);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _validatePassword2() {\r\n        this._view.clearErrors();\r\n        let password1 = this._view.getPassword1Input().value;\r\n        let password2 = this._view.getPassword2Input().value;\r\n        if(password1 != password2) {\r\n            this._view.setPassword2Error(\"Passwords do not match.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _isRegistered(email) {\r\n        let users = this._app.getUsers().getData();\r\n        let isRegistered = false;\r\n        users.forEach((user) => {\r\n            if(user.email == email) {\r\n                isRegistered = true;\r\n            }\r\n        });\r\n        return isRegistered;\r\n    }\r\n}\r\n\r\nexport { Register };","\r\nclass LoggedInView\r\n{\r\n    constructor(){\r\n        this._navEl = document.querySelector(\"header nav\");\r\n        this._userEl = document.getElementById(\"user\");\r\n\r\n        this._emailEl = null;\r\n    }\r\n\r\n    init(selectedPage, userEmail) {\r\n        this._navEl.innerHTML = this._nav(selectedPage);\r\n        this._userEl.innerHTML = this._user(selectedPage);\r\n\r\n        this._emailEl = document.getElementById(\"loggedInUserEmail\");\r\n        this._emailEl.textContent = userEmail;\r\n    }\r\n\r\n    _nav (selectedPage) {\r\n        return String.raw`\r\n            <ul>\r\n                <li>\r\n                    <a href=\"#diary\" ${selectedPage == \"diary\" ? 'id=\"pageSelected\"' : \"\"}>Diary</a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"#changeStyle\" ${selectedPage == \"changeStyle\" ? 'id=\"pageSelected\"' : \"\" }>Change style</a>\r\n                </li>\r\n            </ul>\r\n        `;\r\n    }\r\n\r\n    _user(selectedPage) {\r\n        return String.raw`\r\n            <div>\r\n                Logged&nbsp;in:&nbsp;<span id=\"loggedInUserEmail\"></span>\r\n            </div>\r\n            <div class=\"styleLink\">\r\n                <a class=\"navLink\" href=\"#logout\">Logout</a>\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { LoggedInView };","import { Controller } from \"./controller.js\";\r\nimport { LoggedInView } from \"../view/loggedIn.js\";\r\nimport { setStyle } from \"../view/style.js\";\r\n\r\nclass LoggedIn extends Controller\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._loggedInView = new LoggedInView();\r\n    }\r\n\r\n    init() {\r\n        let user = this._app.user;\r\n        if(user == null) {\r\n            return false;\r\n        }\r\n        setStyle(user.style);\r\n        this._loggedInView.init(this._app.router.getActualRoute(), user.email);\r\n        return true;\r\n    }\r\n}\r\n\r\nexport { LoggedIn };","\r\nclass DiaryView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._formEl = null;\r\n\r\n        this._headline = \"Diary\";\r\n    }\r\n\r\n    getForm() {\r\n        return this._formEl;\r\n    }\r\n\r\n    init() {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._diary();\r\n\r\n        this._formEl = document.querySelector(\"form\");\r\n    }\r\n\r\n    _diary() {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <div id=\"calendar\"></div>\r\n                <div id=\"diaryNote\"></div>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { DiaryView };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nclass DiaryNote extends StorageObject\r\n{\r\n    constructor() {\r\n        super();\r\n        this.date = null;\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n    }\r\n    static createDiaryNote(date, name, description) {\r\n        let note = new DiaryNote();\r\n        note.date = date;\r\n        note.name = name;\r\n        note.description = description;\r\n        return note;\r\n    }\r\n\r\n    static isNameIncorrect(name) {\r\n        if(name.length > 100)\r\n            return \"The name is too long.\";\r\n        if(name.length < 1)\r\n            return \"The name must be at least one character.\";\r\n        return \"\";\r\n    }\r\n\r\n    static isDescriptionIncorrect(description) {\r\n        if(description.length > 20000)\r\n            return \"The description is too long.\";\r\n        return \"\";\r\n    }\r\n}\r\n\r\n\r\nexport { DiaryNote };","import { CustomDate } from \"../model/date.js\";\r\n\r\nclass DiaryNoteView\r\n{\r\n    constructor(){\r\n        this._diaryNoteWrapperEl = null;\r\n        this._nameEl = null;\r\n        this._descriptionEl = null;\r\n        this._errorEl = null;\r\n    }\r\n\r\n    init() {\r\n        this._diaryNoteWrapperEl = document.getElementById(\"diaryNote\");\r\n        this._diaryNoteWrapperEl.innerHTML = \"\";\r\n    }\r\n\r\n    clearNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = \"\";\r\n    }\r\n    noneNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = this._noneNote();\r\n    }\r\n    createNote() {\r\n        this._diaryNoteWrapperEl.innerHTML = this._createNote();\r\n        this._initFormData(\"\", \"\");\r\n        this._nameEl.addEventListener(\"blur\", e => this.clearErrors());\r\n        this._descriptionEl.addEventListener(\"blur\", e => this.clearErrors());\r\n    }\r\n    changeNote(name, description) {\r\n        this._diaryNoteWrapperEl.innerHTML = this._changeNote();\r\n        this._initFormData(name, description);\r\n        this._nameEl.addEventListener(\"blur\", e => this.clearErrors());\r\n        this._descriptionEl.addEventListener(\"blur\", e => this.clearErrors());\r\n    }\r\n    existingNote(name, description) {\r\n        this._diaryNoteWrapperEl.innerHTML = this._existingNote();\r\n        this._initFormData(name, description);\r\n    }\r\n    _initFormData(name, description) {\r\n        this._nameEl = document.querySelector(\"input#name\");\r\n        this._descriptionEl = document.querySelector(\"textarea#description\");\r\n        this._errorEl = document.querySelector(\"p.error\");\r\n        this._nameEl.value = name;\r\n        this._descriptionEl.value = description;\r\n    }\r\n\r\n    getNameInput() {\r\n        return this._nameEl.value;\r\n    }\r\n    getDescriptionInput() {\r\n        return this._descriptionEl.value;\r\n    }\r\n\r\n\r\n    clearErrors() {\r\n        this._errorEl.textContent = \"\";\r\n        this._nameEl.classList.remove('error');\r\n        this._descriptionEl.classList.remove('error');\r\n    }\r\n    setNameError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._nameEl.classList.add('error');\r\n    }\r\n    setDescriptionError(message) {\r\n        this._errorEl.textContent = message;\r\n        this._descriptionEl.classList.add('error');\r\n    }\r\n\r\n    _noneNote() {\r\n        return String.raw`\r\n            <input class=\"submitForm\" type=\"submit\" name=\"createNote\" value=\"Create note\">\r\n        `;\r\n    }\r\n\r\n    _createNote() {\r\n        return String.raw`\r\n            <label>\r\n                Name: <span class=\"mandatory\">*</span>\r\n                <input id=\"name\" type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea id=\"description\" id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <p class=\"error\"></p>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"create\" value=\"Create\">\r\n            <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"cancel\" value=\"Cancel\">\r\n            <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n        `;\r\n    }\r\n\r\n    _changeNote() {\r\n        return String.raw`\r\n            <label>\r\n                Name: <span class=\"mandatory\">*</span>\r\n                <input id=\"name\" type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea id=\"description\" id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <p class=\"error\"></p>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"safeChanges\" value=\"Safe changes\">\r\n            <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n            <input class=\"submitForm\" type=\"submit\" name=\"cancel\" value=\"Cancel\">\r\n            <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n        `;\r\n    }\r\n\r\n    _existingNote() {\r\n        return String.raw`\r\n            <label>\r\n                Name:\r\n                <input id=\"name\" readonly type=\"text\" name=\"name\" value=\"\">\r\n            </label>\r\n            <label for=\"description\">\r\n                Description:\r\n            </label>\r\n            <textarea readonly id=\"description\" name=\"description\" cols=\"35\" rows=\"15\" ></textarea>\r\n            <div>\r\n                <input class=\"submitForm\" type=\"submit\" name=\"change\" value=\"Change\">\r\n                <a class=\"submitForm\" href=\"javascript:window.print()\">Print</a>\r\n                <input class=\"submitForm\" type=\"submit\" name=\"delete\" value=\"Delete\">\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { DiaryNoteView };","import { Controller } from \"./controller.js\";\r\nimport { CustomDate } from \"../model/date.js\";\r\nimport { DiaryNote } from \"../model/diaryNote.js\";\r\nimport { DiaryNoteView } from \"../view/diaryNotebook.js\";\r\n\r\nclass DiaryNotebook extends Controller\r\n{\r\n    constructor(app, calendar) {\r\n        super(app);\r\n        this._view = new DiaryNoteView();\r\n        this._calendar = calendar;\r\n    }\r\n\r\n    init() {\r\n        this._view.init();\r\n        this.update();\r\n        return true;\r\n    }\r\n\r\n    update() {\r\n        let selectedDay = this._calendar.getSelectedDay();\r\n        if(selectedDay == -1) {\r\n            this._view.clearNote();\r\n        } else {\r\n            let note = this._findNote();\r\n            if(note == null) {\r\n                this._view.noneNote();\r\n            } else {\r\n                this._view.existingNote(note.name, note.description);\r\n            }\r\n        }\r\n        let date = this._calendar.getDate().makeCopy();\r\n        this._calendar.noteDays = this._app.user.diaryNotes\r\n            .filter(note => note.date.month == date.month)\r\n            .map(note => note.date.day);\r\n        if(this._calendar.noteDays == undefined) {\r\n            this._calendar.noteDays = [];\r\n        }\r\n        this._calendar.update();\r\n    }\r\n\r\n    submitForm(submitter) {\r\n        let selectedDay = this._calendar.getSelectedDay();\r\n        if(selectedDay == -1) {\r\n            this.update();\r\n            return;\r\n        }\r\n\r\n        if(submitter.name == \"createNote\") {\r\n            this._view.createNote();\r\n        }\r\n        else if(submitter.name == \"create\" || submitter.name == \"safeChanges\") {\r\n            let date = this._calendar.getDate().makeCopy();\r\n            let name = this._view.getNameInput();\r\n            let description = this._view.getDescriptionInput();\r\n            this._view.clearErrors();\r\n            let isIncorrect = DiaryNote.isNameIncorrect(name);\r\n            if(isIncorrect) {\r\n                this._view.setNameError(isIncorrect);\r\n                return;\r\n            }\r\n            isIncorrect = DiaryNote.isDescriptionIncorrect(description);\r\n            if(isIncorrect) {\r\n                this._view.setDescriptionError(isIncorrect);\r\n                return;\r\n            }\r\n            let note = DiaryNote.createDiaryNote(date.makeCopy(), name, description);\r\n            let diaryNotes = this._app.user.diaryNotes;\r\n            let index = diaryNotes.findIndex((diaryNote) => date.compare(diaryNote.date));\r\n            if(index < 0) {\r\n                diaryNotes.push(note);\r\n            } else {\r\n                diaryNotes[index] = note;\r\n            }\r\n            this._app._users.save();\r\n            this.update();\r\n        }\r\n        else if(submitter.name == \"change\") {\r\n            let note = this._findNote();\r\n            if(note != null) {\r\n                this._view.changeNote(note.name, note.description);\r\n            }\r\n        }\r\n        else if(submitter.name == \"delete\") {\r\n            let date = this._calendar.getDate().makeCopy();\r\n            let diaryNotes = this._app.user.diaryNotes;\r\n            this._app.user.diaryNotes = diaryNotes.filter((diaryNote) => !diaryNote.date.compare(date));\r\n            this._app._users.save();\r\n            this.update();\r\n        } else {\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    _findNote() {\r\n        return this._app.user.diaryNotes.find((diaryNote) => this._calendar.getDate().compare(diaryNote.date));\r\n    }\r\n}\r\n\r\nexport { DiaryNotebook };","import { LoggedIn } from \"./loggedIn.js\";\r\nimport { DiaryView } from \"../view/diary.js\";\r\nimport { Calendar } from \"./calendar.js\";\r\nimport { DiaryNotebook } from \"./diaryNotebook.js\";\r\n\r\nclass Diary extends LoggedIn\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new DiaryView();\r\n        this._calendar = new Calendar(app);\r\n        this._diaryNote = new DiaryNotebook(app, this._calendar);\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init();\r\n            this._calendar.init();\r\n            this._diaryNote.init();\r\n            let form = this._view.getForm();\r\n            form.addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm(e.submitter);});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm(submitter) {\r\n        this._calendar.submitForm(submitter);\r\n        this._diaryNote.submitForm(submitter);\r\n    }\r\n}\r\n\r\nexport { Diary };","import { LoggedIn } from \"./loggedIn.js\";\r\n\r\nclass Logout extends LoggedIn\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._app.user = null;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nexport { Logout };","\r\nclass ChangeStyleView\r\n{\r\n    constructor(){\r\n        this._headlineEl = document.querySelector(\"header h1\");\r\n        this._mainEl = document.querySelector(\"main\");\r\n\r\n        this._changeStyleFormEl = null;\r\n\r\n        this._headline = \"Change style\";\r\n    }\r\n\r\n    init(style) {\r\n        this._headlineEl.innerHTML = this._headline;\r\n        document.title = this._headline;\r\n        \r\n        this._mainEl.innerHTML = this._changeStyleForm(style);\r\n\r\n        this._changeStyleFormEl = document.querySelector(\"form\");\r\n    }\r\n\r\n    getForm() {\r\n        return this._changeStyleFormEl;\r\n    }\r\n\r\n    _changeStyleForm(style) {\r\n        return String.raw`\r\n            <form method=\"post\" action=\"\">\r\n                <label>\r\n                    Styles: <span class=\"mandatory\">*</span>\r\n                </label>\r\n                <label>\r\n                    <input class=\"radioBut\" required type=\"radio\" name=\"style\" value=\"blue\" ${style == \"blue\" ? \"checked\" : \"\"}>\r\n                    Blue style\r\n                </label>\r\n                <label>\r\n                    <input class=\"radioBut\" type=\"radio\" name=\"style\" value=\"green\" ${style == \"green\" ? \"checked\" : \"\"}>\r\n                    Green style\r\n                </label>\r\n                <input class=\"submitForm\" type=\"submit\" value=\"Change\">\r\n                <p> Fields with <span class=\"mandatory\">*</span> are mandatory. </p>\r\n            </form>\r\n        `;\r\n    }\r\n}\r\n\r\nexport { ChangeStyleView };","import { LoggedIn } from \"./loggedIn.js\";\r\nimport { ChangeStyleView } from \"../view/changeStyle.js\";\r\nimport { setStyle } from \"../view/style.js\";\r\n\r\nclass ChangeStyle extends LoggedIn\r\n{\r\n    constructor(app) {\r\n        super(app);\r\n        this._view = new ChangeStyleView();\r\n    }\r\n\r\n    init() {\r\n        let progress = super.init();\r\n        if(progress) {\r\n            this._view.init(this._app.user.style);\r\n            this._view.getForm().addEventListener(\"submit\", (e) => {e.preventDefault(); this._submitForm();});\r\n        }\r\n        return progress;\r\n    }\r\n\r\n    _submitForm() {\r\n        let form = this._view.getForm();\r\n        let user = this._app.user;\r\n        let formData = new FormData(form);\r\n        user.style = formData.get(\"style\");\r\n        this._app._users.save();\r\n        setStyle(user.style);\r\n    }\r\n}\r\n\r\nexport { ChangeStyle };","import { StorageObject } from \"../control/storageObject.js\";\r\n\r\nclass Note extends StorageObject\r\n{\r\n    constructor() {\r\n        super();\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n    }\r\n    static createNote(name, description) {\r\n        let note = new Note();\r\n        note.name = name;\r\n        note.description = description;\r\n        return note;\r\n    }\r\n\r\n    static isNameIncorrect(name) {\r\n        if(name.length > 100)\r\n            return \"The name is too long.\";\r\n        if(name.length < 1)\r\n            return \"The name must be at least one character.\";\r\n        return \"\";\r\n    }\r\n\r\n    static isDescriptionIncorrect(description) {\r\n        if(description.length > 20000)\r\n            return \"The description is too long.\";\r\n        return \"\";\r\n    }\r\n}\r\n\r\n\r\nexport { Note };","import { App } from \"./control/app\";\r\nlet app = new App();\r\n","import { Router } from \"./router\";\r\nimport { AppStorage } from \"./appStorage\";\r\nimport { Main } from \"./main\";\r\nimport { Login } from \"./login\";\r\nimport { Register } from \"./register\";\r\nimport { Diary } from \"./diary\";\r\nimport { Logout } from \"./logout\";\r\nimport { ChangeStyle } from \"./changeStyle\";\r\nimport { User } from \"../model/user\";\r\nimport { CustomDate } from \"../model/date\";\r\nimport { Note } from \"../model/note\";\r\nimport { DiaryNote } from \"../model/diaryNote\";\r\nclass App {\r\n    constructor() {\r\n        let routes = {\r\n            main: new Main(this),\r\n            login: new Login(this),\r\n            register: new Register(this),\r\n            diary: new Diary(this),\r\n            /*notebook: new Notebook(this),*/\r\n            logout: new Logout(this),\r\n            changeStyle: new ChangeStyle(this)\r\n        };\r\n        let defaultRoute = {\r\n            name: \"main\",\r\n            control: routes.main\r\n        };\r\n        this.router = new Router(routes, defaultRoute);\r\n        this.router.route();\r\n        this._users = new AppStorage(\"diary-js-users\", [User, CustomDate, Note, DiaryNote]);\r\n        this._users.load();\r\n        this.user = null;\r\n    }\r\n    getUsers() {\r\n        return this._users;\r\n    }\r\n}\r\nexport { App };\r\n"],"names":["Router","constructor","routes","defaultRoute","window","addEventListener","e","this","route","_routes","_defaultRoute","_actualRoute","getActualRoute","routeFound","hash","location","routeName","routeControl","Object","entries","init","routeDefault","routeTo","newRoute","console","log","name","control","AppStorage","storedClasses","data","forEach","storedClass","getData","load","rawData","localStorage","getItem","save","JSON","parse","key","value","newObject","_class","assign","setItem","stringify","Controller","app","_app","LoggedOutView","_navEl","document","querySelector","_userEl","getElementById","_user","selectedPage","innerHTML","_nav","String","raw","styles","blue","headerFooter","mainBg","text","mandatory","dark","note","noteBgHover","tableSelected","tableSelectedHover","tableButtonBg","error","green","setStyle","styleName","root","documentElement","style","setProperty","LoggedOut","super","_loggedOutView","router","StorageObject","__proto__","monthNames","dayNames","dayNamesShots","CustomDate","day","month","year","date","Date","createDate","getDate","getMonth","getFullYear","getMonthName","getDayInWeekName","getDayInWeek","getDayInWeekShortName","getDay","getDaysInMonth","incrementMonth","dencrementMonth","toString","compare","makeCopy","projectInfo","MainView","_headlineEl","_mainEl","_footerEl","_formEl","_headline","authorName","packageInfo","author","buildYear","buildDate","buildVersion","version","_footer","getForm","title","_basicCalendar","createCurrentDate","CalendarView","_calendarWrapperEl","_calendarBodyEl","selectedDay","noteDays","_calendar","_calendarBody","selectCell","dayIndex","cell","classList","add","deselectCell","remove","join","getDayShorts","map","cells","_calendarCells","row","firstDayInMonth","dayInWeek","currentDate","daysInMonth","j","i","length","push","_otherMonthCell","isSelected","_cell","includes","cellClass","arr","reduce","a","b","Calendar","_view","_selectedDay","_date","update","getSelectedDay","submitForm","submitter","parseInt","Main","progress","preventDefault","LoginView","_loginFormEl","_emailInputEl","_passwordInputEl","_errorEl","_loginForm","getEmailInput","getPasswordInput","clearErrors","textContent","setError","message","Login","_submitForm","email","password","user","_findUser","doesPasswordMatch","then","matches","users","getUsers","foundUser","RegisterView","_registerFormEl","_password1InputEl","_password2InputEl","_registerForm","getPassword1Input","getPassword2Input","setEmailError","setPassword1Error","setPassword2Error","User","passwordHash","notes","diaryNotes","createHash","indexOf","async","msgUint8","TextEncoder","encode","hashBuffer","crypto","subtle","digest","Array","from","Uint8Array","padStart","Register","_validateEmail","_validatePassword1","_validatePassword2","createWithPassword","isIncorrect","isEmailIncorrect","_isRegistered","password1","isPasswordIncorrect","isRegistered","LoggedInView","_emailEl","userEmail","LoggedIn","_loggedInView","DiaryView","_diary","DiaryNote","description","DiaryNoteView","_diaryNoteWrapperEl","_nameEl","_descriptionEl","clearNote","noneNote","_noneNote","createNote","_createNote","_initFormData","changeNote","_changeNote","existingNote","_existingNote","getNameInput","getDescriptionInput","setNameError","setDescriptionError","DiaryNotebook","calendar","_findNote","filter","undefined","isNameIncorrect","isDescriptionIncorrect","createDiaryNote","index","findIndex","diaryNote","_users","find","Diary","_diaryNote","Logout","ChangeStyleView","_changeStyleFormEl","_changeStyleForm","ChangeStyle","form","formData","FormData","get","Note","main","login","register","diary","logout","changeStyle"],"sourceRoot":""}